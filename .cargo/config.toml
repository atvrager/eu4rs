[alias]
xtask = "run --package xtask --bin xtask --"
run-viz-debug = "run --package eu4viz --bin eu4viz -- --log-level debug"
run-viz-info = "run --package eu4viz --bin eu4viz -- --log-level info"
run-viz-trace = "run --package eu4viz --bin eu4viz -- --log-level trace"
run-sim-debug = "run --package eu4sim --bin eu4sim -- --log-level debug"
run-sim-info = "run --package eu4sim --bin eu4sim -- --log-level info"
run-sim-trace = "run --package eu4sim --bin eu4sim -- --log-level trace"
# Release builds (fast)
run-sim = "run --release --package eu4sim --bin eu4sim --"
# Observer mode shortcuts
sim-watch = "run --release --package eu4sim --bin eu4sim -- --observer --tags FRA,TUR,CAS,ENG,MNG --log-level warn"
sim-watch-100 = "run --release --package eu4sim --bin eu4sim -- --observer --ticks 100 --tags FRA,TUR,CAS,ENG --log-level warn"
sim-watch-1yr = "run --release --package eu4sim --bin eu4sim -- --observer --ticks 360 --tags FRA,TUR,CAS,ENG --log-level warn"
cov = "llvm-cov --summary-only"
cov-summary = "llvm-cov --summary-only"

# ─── Benchmarks ───────────────────────────────────────────────────────────────
# Quick 100-tick benchmark with timing (CPU by default)
bench = "run --release --package eu4sim --bin eu4sim -- --ticks 100 --benchmark --observer --headless --log-level error --tags FRA,TUR,CAS,ENG"
# Full year benchmark
bench-1yr = "run --release --package eu4sim --bin eu4sim -- --ticks 360 --benchmark --observer --headless --log-level error --tags FRA,TUR,CAS,ENG"
# CUDA-enabled benchmarks (faster AI inference)
bench-cuda = "run --release --package eu4sim --bin eu4sim --features eu4sim-ai/cuda -- --ticks 100 --benchmark --observer --headless --log-level error --tags FRA,TUR,CAS,ENG"
bench-1yr-cuda = "run --release --package eu4sim --bin eu4sim --features eu4sim-ai/cuda -- --ticks 360 --benchmark --observer --headless --log-level error --tags FRA,TUR,CAS,ENG"

# ─── Training Data Generation ─────────────────────────────────────────────────
# Generate 1-year training data (binary format, recommended)
datagen = "run --release --package eu4sim --bin eu4sim -- --ticks 360 --observer --headless --log-level warn --datagen training_run.cpb.zip"
# Generate 10-year training data
datagen-10yr = "run --release --package eu4sim --bin eu4sim -- --ticks 3600 --observer --headless --log-level warn --datagen training_10yr.cpb.zip"

# ─── LLM AI Benchmarks ────────────────────────────────────────────────────────
# SmolLM2 base model (no adapter)
llm-smollm = "run --release --package eu4sim --bin eu4sim -- --llm-ai-base smollm --ticks 100 --benchmark --observer --headless --log-level warn"
llm-smollm-cuda = "run --release --package eu4sim --bin eu4sim --features eu4sim-ai/cuda -- --llm-ai-base smollm --ticks 100 --benchmark --observer --headless --log-level warn"
# Gemma-3-270m base model (no adapter)
llm-gemma3 = "run --release --package eu4sim --bin eu4sim -- --llm-ai-base gemma3 --ticks 100 --benchmark --observer --headless --log-level warn"
llm-gemma3-cuda = "run --release --package eu4sim --bin eu4sim --features eu4sim-ai/cuda -- --llm-ai-base gemma3 --ticks 100 --benchmark --observer --headless --log-level warn"

# ─── Build Variants ───────────────────────────────────────────────────────────
# Build with CUDA support for AI inference
build-cuda = "build --release --package eu4sim --features eu4sim-ai/cuda"
check-cuda = "check --package eu4sim --features eu4sim-ai/cuda"

[build]
incremental = true
