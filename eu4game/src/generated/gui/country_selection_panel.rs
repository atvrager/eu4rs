// AUTO-GENERATED by cargo xtask generate-gui-renderer
// Source: country_selection_panel from parsed GUI files
// DO NOT EDIT - changes will be overwritten

#[allow(unused_imports)]
use crate::bmfont::BitmapFontCache;
use crate::gui::GuiRenderer;
use crate::gui::HitBoxCmd;
#[allow(unused_imports)]
use crate::gui::layout::rect_to_clip_space;
#[allow(unused_imports)]
use crate::gui::layout::{get_window_anchor, position_from_anchor, resolve_position};
use crate::gui::sprite_cache::SpriteCache;
#[allow(unused_imports)]
use crate::gui::types::{GfxDatabase, HitBox, Orientation, TextFormat};
#[allow(unused_imports)]
use crate::gui::widget_cache::{WidgetCache, render_gui_editbox, render_gui_text};
use crate::render::SpriteRenderer;

#[allow(unused_imports)]
use crate::gui::main_menu::MainMenuPanel;
#[allow(unused_imports)]
use crate::gui::speed_controls::SpeedControls;
#[allow(unused_imports)]
use crate::gui::topbar::TopBar;
#[allow(unused_imports)] // Not all types used by every panel
use crate::gui::{
    CountrySelectLeftPanel, CountrySelectRightPanel, CountrySelectTopPanel, LobbyControlsPanel,
};

impl GuiRenderer {
    pub(crate) fn load_country_selection_panel_sprites(
        widget_cache: &mut WidgetCache,
        gfx_db: &GfxDatabase,
        sprite_cache: &mut SpriteCache,
        font_cache: &mut BitmapFontCache,
        device: &wgpu::Device,
        queue: &wgpu::Queue,
        sprite_renderer: &SpriteRenderer,
    ) {
        // Load sprites for country_selection_panel panel
        widget_cache.get_or_load_sprite(
            "GFX_frontend_tile",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_7",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_hotjoining_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_1",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_game_logo",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_tinto_logo",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "bannerbackground",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_dlc_alert_frame",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_buy_dlc_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_bottom_small_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_sp_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_continue_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_continue_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "standarddialogshield",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_ironman_icon",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_mp_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_version_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_7",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_panel_button_left",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_panel_button_center",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_panel_button_center",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_panel_button_right",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_social_buttons_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_game_logo",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_tinto_logo",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_sp_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_mp_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_tutorial_list_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_tutorial_select_tab",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_tutorial_select_tab",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_tutorial_select_tab",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_basic_tut",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_advanced_tut",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_Spa_empire_tut",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_1",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_1",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_6",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_lobby_chat_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_standard_button_105",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mic_button_105",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_4",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_nation_designer_bottom_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_nation_designer_cancel_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_nation_designer_done_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_nation_designer_save_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_nation_designer_load_button",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_rnw_loading_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_lobby_left_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_7",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_7",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_lobby_date_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_up_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_down_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_up_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_down_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_up_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_down_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_left_big",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_left_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_right_big",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_arrow_right_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_4",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_checkbox_gold_32",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_4",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_4",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_4",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "button_type_4",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_lobby_top_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_terrain",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_political",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_trade",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_empire",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_religion",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_diplomatic",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_economical",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_region",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_culture",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_players_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_players_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_players_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_players_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_mapmode_players_small",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_nation_designer_hint_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_lobby_right_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_ironman_icon",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_lobby_right_mp_bg",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_checksum",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_create_team",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_leave_team",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_tech_group_strip",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_shield_thin",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_government_rank_strip",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_religion",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_religion",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_powers_administrative",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_powers_diplomatic",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_powers_military",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_powers_administrative_tech",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_powers_diplomatic_tech",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_powers_military_tech",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_icon_ideas",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_idea_empty",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_idea_empty",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_idea_empty",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_idea_empty",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_idea_empty",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_idea_empty",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_idea_empty",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_province_icon",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_development_icon",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_fort_defense_icon",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_checkbox_gold_32",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_random_world",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_checkbox_gold_32",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_custom_nation",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_frontend_random_nation",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
        widget_cache.get_or_load_sprite(
            "GFX_big_button_232",
            gfx_db,
            sprite_cache,
            device,
            queue,
            sprite_renderer,
        );
    }

    pub(crate) fn render_country_selection_panel<'a>(
        screen_size: (u32, u32),
        sprite_renderer: &'a SpriteRenderer,
        render_pass: &mut wgpu::RenderPass<'a>,
        queue: &wgpu::Queue,
        panel: &CountrySelectRightPanel,
        widget_cache: &'a WidgetCache,
        hit_boxes: &mut Vec<(String, HitBox)>,
    ) {
        // Render country_selection_panel panel
        let window_anchor = get_window_anchor((0, 0), Orientation::UpperLeft, screen_size);

        let mut local_hit_boxes = Vec::new();

        // Widget: Background
        if let Some(sprite_background) = widget_cache.sprites.get("GFX_frontend_tile") {
            let size_background = sprite_background
                .target_size
                .unwrap_or(sprite_background.dimensions);
            let pos_background = position_from_anchor(
                window_anchor,
                (0, 0),
                Orientation::UpperLeft,
                size_background,
            );

            if let Some(border) = sprite_background.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    pos_background.0,
                    pos_background.1,
                    size_background.0 as f32,
                    size_background.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_background.dimensions.0,
                    sprite_background.dimensions.1,
                    screen_size,
                );
            } else if sprite_background.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_background.dimensions.0 / sprite_background.num_frames;
                let clip_background = rect_to_clip_space(
                    (pos_background.0, pos_background.1),
                    (frame_w, sprite_background.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_background.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    clip_background.0,
                    clip_background.1,
                    clip_background.2,
                    clip_background.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_background = rect_to_clip_space(
                    (pos_background.0, pos_background.1),
                    (size_background.0, size_background.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    clip_background.0,
                    clip_background.1,
                    clip_background.2,
                    clip_background.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "Background".to_string(),
                hit_box: HitBox {
                    x: pos_background.0,
                    y: pos_background.1,
                    width: size_background.0 as f32,
                    height: size_background.1 as f32,
                },
            });
        }

        // Widget: join_direct
        if let Some(sprite_join_direct) = widget_cache.sprites.get("button_type_7") {
            let size_join_direct = sprite_join_direct
                .target_size
                .unwrap_or(sprite_join_direct.dimensions);
            let pos_join_direct = position_from_anchor(
                window_anchor,
                (-415, 226),
                Orientation::UpperLeft,
                size_join_direct,
            );

            if let Some(border) = sprite_join_direct.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_join_direct.bind_group.as_ref(),
                    queue,
                    pos_join_direct.0,
                    pos_join_direct.1,
                    size_join_direct.0 as f32,
                    size_join_direct.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_join_direct.dimensions.0,
                    sprite_join_direct.dimensions.1,
                    screen_size,
                );
            } else if sprite_join_direct.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_join_direct.dimensions.0 / sprite_join_direct.num_frames;
                let clip_join_direct = rect_to_clip_space(
                    (pos_join_direct.0, pos_join_direct.1),
                    (frame_w, sprite_join_direct.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_join_direct.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_join_direct.bind_group.as_ref(),
                    queue,
                    clip_join_direct.0,
                    clip_join_direct.1,
                    clip_join_direct.2,
                    clip_join_direct.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_join_direct = rect_to_clip_space(
                    (pos_join_direct.0, pos_join_direct.1),
                    (size_join_direct.0, size_join_direct.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_join_direct.bind_group.as_ref(),
                    queue,
                    clip_join_direct.0,
                    clip_join_direct.1,
                    clip_join_direct.2,
                    clip_join_direct.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "join_direct".to_string(),
                hit_box: HitBox {
                    x: pos_join_direct.0,
                    y: pos_join_direct.1,
                    width: size_join_direct.0 as f32,
                    height: size_join_direct.1 as f32,
                },
            });
        }

        // EditBox: playername (font: Main_16) - no panel field mapping

        // TextBox: version_label (font: vic_18) - no panel field mapping

        // Widget: frontend_paper_bg
        if let Some(sprite_frontend_paper_bg) = widget_cache.sprites.get("GFX_hotjoining_bg") {
            let size_frontend_paper_bg = sprite_frontend_paper_bg
                .target_size
                .unwrap_or(sprite_frontend_paper_bg.dimensions);
            let pos_frontend_paper_bg = position_from_anchor(
                window_anchor,
                (-240, -152),
                Orientation::UpperLeft,
                size_frontend_paper_bg,
            );

            if let Some(border) = sprite_frontend_paper_bg.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_paper_bg.bind_group.as_ref(),
                    queue,
                    pos_frontend_paper_bg.0,
                    pos_frontend_paper_bg.1,
                    size_frontend_paper_bg.0 as f32,
                    size_frontend_paper_bg.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_paper_bg.dimensions.0,
                    sprite_frontend_paper_bg.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_paper_bg.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_frontend_paper_bg.dimensions.0 / sprite_frontend_paper_bg.num_frames;
                let clip_frontend_paper_bg = rect_to_clip_space(
                    (pos_frontend_paper_bg.0, pos_frontend_paper_bg.1),
                    (frame_w, sprite_frontend_paper_bg.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_paper_bg.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_paper_bg.bind_group.as_ref(),
                    queue,
                    clip_frontend_paper_bg.0,
                    clip_frontend_paper_bg.1,
                    clip_frontend_paper_bg.2,
                    clip_frontend_paper_bg.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_paper_bg = rect_to_clip_space(
                    (pos_frontend_paper_bg.0, pos_frontend_paper_bg.1),
                    (size_frontend_paper_bg.0, size_frontend_paper_bg.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_paper_bg.bind_group.as_ref(),
                    queue,
                    clip_frontend_paper_bg.0,
                    clip_frontend_paper_bg.1,
                    clip_frontend_paper_bg.2,
                    clip_frontend_paper_bg.3,
                );
            }
        }

        // TextBox: info_desc (font: vic_18) - no panel field mapping

        // Widget: back
        if let Some(sprite_back) = widget_cache.sprites.get("button_type_1") {
            let size_back = sprite_back.target_size.unwrap_or(sprite_back.dimensions);
            let pos_back =
                position_from_anchor(window_anchor, (-60, 85), Orientation::UpperLeft, size_back);

            if let Some(border) = sprite_back.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_back.bind_group.as_ref(),
                    queue,
                    pos_back.0,
                    pos_back.1,
                    size_back.0 as f32,
                    size_back.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_back.dimensions.0,
                    sprite_back.dimensions.1,
                    screen_size,
                );
            } else if sprite_back.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_back.dimensions.0 / sprite_back.num_frames;
                let clip_back = rect_to_clip_space(
                    (pos_back.0, pos_back.1),
                    (frame_w, sprite_back.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_back.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_back.bind_group.as_ref(),
                    queue,
                    clip_back.0,
                    clip_back.1,
                    clip_back.2,
                    clip_back.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_back = rect_to_clip_space(
                    (pos_back.0, pos_back.1),
                    (size_back.0, size_back.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_back.bind_group.as_ref(),
                    queue,
                    clip_back.0,
                    clip_back.1,
                    clip_back.2,
                    clip_back.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "back".to_string(),
                hit_box: HitBox {
                    x: pos_back.0,
                    y: pos_back.1,
                    width: size_back.0 as f32,
                    height: size_back.1 as f32,
                },
            });
        }

        // Widget: frontend_game_logo
        if let Some(sprite_frontend_game_logo) = widget_cache.sprites.get("GFX_frontend_game_logo")
        {
            let size_frontend_game_logo = sprite_frontend_game_logo
                .target_size
                .unwrap_or(sprite_frontend_game_logo.dimensions);
            let pos_frontend_game_logo = position_from_anchor(
                window_anchor,
                (0, 19),
                Orientation::UpperLeft,
                size_frontend_game_logo,
            );

            if let Some(border) = sprite_frontend_game_logo.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_game_logo.bind_group.as_ref(),
                    queue,
                    pos_frontend_game_logo.0,
                    pos_frontend_game_logo.1,
                    size_frontend_game_logo.0 as f32,
                    size_frontend_game_logo.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_game_logo.dimensions.0,
                    sprite_frontend_game_logo.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_game_logo.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_frontend_game_logo.dimensions.0 / sprite_frontend_game_logo.num_frames;
                let clip_frontend_game_logo = rect_to_clip_space(
                    (pos_frontend_game_logo.0, pos_frontend_game_logo.1),
                    (frame_w, sprite_frontend_game_logo.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_game_logo.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_game_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_game_logo.0,
                    clip_frontend_game_logo.1,
                    clip_frontend_game_logo.2,
                    clip_frontend_game_logo.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_game_logo = rect_to_clip_space(
                    (pos_frontend_game_logo.0, pos_frontend_game_logo.1),
                    (size_frontend_game_logo.0, size_frontend_game_logo.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_game_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_game_logo.0,
                    clip_frontend_game_logo.1,
                    clip_frontend_game_logo.2,
                    clip_frontend_game_logo.3,
                );
            }
        }

        // Widget: frontend_dev_logo
        if let Some(sprite_frontend_dev_logo) = widget_cache.sprites.get("GFX_frontend_tinto_logo")
        {
            let size_frontend_dev_logo = sprite_frontend_dev_logo
                .target_size
                .unwrap_or(sprite_frontend_dev_logo.dimensions);
            let pos_frontend_dev_logo = position_from_anchor(
                window_anchor,
                (-210, 14),
                Orientation::UpperRight,
                size_frontend_dev_logo,
            );

            if let Some(border) = sprite_frontend_dev_logo.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_dev_logo.bind_group.as_ref(),
                    queue,
                    pos_frontend_dev_logo.0,
                    pos_frontend_dev_logo.1,
                    size_frontend_dev_logo.0 as f32,
                    size_frontend_dev_logo.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_dev_logo.dimensions.0,
                    sprite_frontend_dev_logo.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_dev_logo.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_frontend_dev_logo.dimensions.0 / sprite_frontend_dev_logo.num_frames;
                let clip_frontend_dev_logo = rect_to_clip_space(
                    (pos_frontend_dev_logo.0, pos_frontend_dev_logo.1),
                    (frame_w, sprite_frontend_dev_logo.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_dev_logo.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_dev_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_dev_logo.0,
                    clip_frontend_dev_logo.1,
                    clip_frontend_dev_logo.2,
                    clip_frontend_dev_logo.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_dev_logo = rect_to_clip_space(
                    (pos_frontend_dev_logo.0, pos_frontend_dev_logo.1),
                    (size_frontend_dev_logo.0, size_frontend_dev_logo.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_dev_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_dev_logo.0,
                    clip_frontend_dev_logo.1,
                    clip_frontend_dev_logo.2,
                    clip_frontend_dev_logo.3,
                );
            }
        }

        // Widget: content_button
        if let Some(sprite_content_button) = widget_cache.sprites.get("bannerbackground") {
            let size_content_button = sprite_content_button
                .target_size
                .unwrap_or(sprite_content_button.dimensions);
            let pos_content_button = position_from_anchor(
                window_anchor,
                (-222, 321),
                Orientation::UpperLeft,
                size_content_button,
            );

            if let Some(border) = sprite_content_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_content_button.bind_group.as_ref(),
                    queue,
                    pos_content_button.0,
                    pos_content_button.1,
                    size_content_button.0 as f32,
                    size_content_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_content_button.dimensions.0,
                    sprite_content_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_content_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_content_button.dimensions.0 / sprite_content_button.num_frames;
                let clip_content_button = rect_to_clip_space(
                    (pos_content_button.0, pos_content_button.1),
                    (frame_w, sprite_content_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_content_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_content_button.bind_group.as_ref(),
                    queue,
                    clip_content_button.0,
                    clip_content_button.1,
                    clip_content_button.2,
                    clip_content_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_content_button = rect_to_clip_space(
                    (pos_content_button.0, pos_content_button.1),
                    (size_content_button.0, size_content_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_content_button.bind_group.as_ref(),
                    queue,
                    clip_content_button.0,
                    clip_content_button.1,
                    clip_content_button.2,
                    clip_content_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "content_button".to_string(),
                hit_box: HitBox {
                    x: pos_content_button.0,
                    y: pos_content_button.1,
                    width: size_content_button.0 as f32,
                    height: size_content_button.1 as f32,
                },
            });
        }

        // Widget: dlc_alert_frame
        if let Some(sprite_dlc_alert_frame) = widget_cache.sprites.get("GFX_dlc_alert_frame") {
            let size_dlc_alert_frame = sprite_dlc_alert_frame
                .target_size
                .unwrap_or(sprite_dlc_alert_frame.dimensions);
            let pos_dlc_alert_frame = position_from_anchor(
                window_anchor,
                (-255, 254),
                Orientation::UpperLeft,
                size_dlc_alert_frame,
            );

            if let Some(border) = sprite_dlc_alert_frame.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_dlc_alert_frame.bind_group.as_ref(),
                    queue,
                    pos_dlc_alert_frame.0,
                    pos_dlc_alert_frame.1,
                    size_dlc_alert_frame.0 as f32,
                    size_dlc_alert_frame.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_dlc_alert_frame.dimensions.0,
                    sprite_dlc_alert_frame.dimensions.1,
                    screen_size,
                );
            } else if sprite_dlc_alert_frame.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_dlc_alert_frame.dimensions.0 / sprite_dlc_alert_frame.num_frames;
                let clip_dlc_alert_frame = rect_to_clip_space(
                    (pos_dlc_alert_frame.0, pos_dlc_alert_frame.1),
                    (frame_w, sprite_dlc_alert_frame.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_dlc_alert_frame.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_dlc_alert_frame.bind_group.as_ref(),
                    queue,
                    clip_dlc_alert_frame.0,
                    clip_dlc_alert_frame.1,
                    clip_dlc_alert_frame.2,
                    clip_dlc_alert_frame.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_dlc_alert_frame = rect_to_clip_space(
                    (pos_dlc_alert_frame.0, pos_dlc_alert_frame.1),
                    (size_dlc_alert_frame.0, size_dlc_alert_frame.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_dlc_alert_frame.bind_group.as_ref(),
                    queue,
                    clip_dlc_alert_frame.0,
                    clip_dlc_alert_frame.1,
                    clip_dlc_alert_frame.2,
                    clip_dlc_alert_frame.3,
                );
            }
        }

        // Widget: buy_dlc_button
        if let Some(sprite_buy_dlc_button) = widget_cache.sprites.get("GFX_buy_dlc_button") {
            let size_buy_dlc_button = sprite_buy_dlc_button
                .target_size
                .unwrap_or(sprite_buy_dlc_button.dimensions);
            let pos_buy_dlc_button = position_from_anchor(
                window_anchor,
                (-210, 454),
                Orientation::UpperLeft,
                size_buy_dlc_button,
            );

            if let Some(border) = sprite_buy_dlc_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_buy_dlc_button.bind_group.as_ref(),
                    queue,
                    pos_buy_dlc_button.0,
                    pos_buy_dlc_button.1,
                    size_buy_dlc_button.0 as f32,
                    size_buy_dlc_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_buy_dlc_button.dimensions.0,
                    sprite_buy_dlc_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_buy_dlc_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_buy_dlc_button.dimensions.0 / sprite_buy_dlc_button.num_frames;
                let clip_buy_dlc_button = rect_to_clip_space(
                    (pos_buy_dlc_button.0, pos_buy_dlc_button.1),
                    (frame_w, sprite_buy_dlc_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_buy_dlc_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_buy_dlc_button.bind_group.as_ref(),
                    queue,
                    clip_buy_dlc_button.0,
                    clip_buy_dlc_button.1,
                    clip_buy_dlc_button.2,
                    clip_buy_dlc_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_buy_dlc_button = rect_to_clip_space(
                    (pos_buy_dlc_button.0, pos_buy_dlc_button.1),
                    (size_buy_dlc_button.0, size_buy_dlc_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_buy_dlc_button.bind_group.as_ref(),
                    queue,
                    clip_buy_dlc_button.0,
                    clip_buy_dlc_button.1,
                    clip_buy_dlc_button.2,
                    clip_buy_dlc_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "buy_dlc_button".to_string(),
                hit_box: HitBox {
                    x: pos_buy_dlc_button.0,
                    y: pos_buy_dlc_button.1,
                    width: size_buy_dlc_button.0 as f32,
                    height: size_buy_dlc_button.1 as f32,
                },
            });
        }

        // TextBox: content_new_dlc (font: vic_18) - no panel field mapping

        // TextBox: content_name (font: vic_22) - no panel field mapping

        // Widget: frontend_bottom_bg
        if let Some(sprite_frontend_bottom_bg) =
            widget_cache.sprites.get("GFX_frontend_bottom_small_bg")
        {
            let size_frontend_bottom_bg = sprite_frontend_bottom_bg
                .target_size
                .unwrap_or(sprite_frontend_bottom_bg.dimensions);
            let pos_frontend_bottom_bg = position_from_anchor(
                window_anchor,
                (-339, -140),
                Orientation::UpperLeft,
                size_frontend_bottom_bg,
            );

            if let Some(border) = sprite_frontend_bottom_bg.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_bottom_bg.bind_group.as_ref(),
                    queue,
                    pos_frontend_bottom_bg.0,
                    pos_frontend_bottom_bg.1,
                    size_frontend_bottom_bg.0 as f32,
                    size_frontend_bottom_bg.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_bottom_bg.dimensions.0,
                    sprite_frontend_bottom_bg.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_bottom_bg.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_frontend_bottom_bg.dimensions.0 / sprite_frontend_bottom_bg.num_frames;
                let clip_frontend_bottom_bg = rect_to_clip_space(
                    (pos_frontend_bottom_bg.0, pos_frontend_bottom_bg.1),
                    (frame_w, sprite_frontend_bottom_bg.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_bottom_bg.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_bottom_bg.bind_group.as_ref(),
                    queue,
                    clip_frontend_bottom_bg.0,
                    clip_frontend_bottom_bg.1,
                    clip_frontend_bottom_bg.2,
                    clip_frontend_bottom_bg.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_bottom_bg = rect_to_clip_space(
                    (pos_frontend_bottom_bg.0, pos_frontend_bottom_bg.1),
                    (size_frontend_bottom_bg.0, size_frontend_bottom_bg.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_bottom_bg.bind_group.as_ref(),
                    queue,
                    clip_frontend_bottom_bg.0,
                    clip_frontend_bottom_bg.1,
                    clip_frontend_bottom_bg.2,
                    clip_frontend_bottom_bg.3,
                );
            }
        }

        // Widget: single_player_button
        if let Some(sprite_single_player_button) =
            widget_cache.sprites.get("GFX_frontend_sp_button")
        {
            let size_single_player_button = sprite_single_player_button
                .target_size
                .unwrap_or(sprite_single_player_button.dimensions);
            let pos_single_player_button = position_from_anchor(
                window_anchor,
                (-203, -119),
                Orientation::UpperLeft,
                size_single_player_button,
            );

            if let Some(border) = sprite_single_player_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_single_player_button.bind_group.as_ref(),
                    queue,
                    pos_single_player_button.0,
                    pos_single_player_button.1,
                    size_single_player_button.0 as f32,
                    size_single_player_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_single_player_button.dimensions.0,
                    sprite_single_player_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_single_player_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_single_player_button.dimensions.0
                    / sprite_single_player_button.num_frames;
                let clip_single_player_button = rect_to_clip_space(
                    (pos_single_player_button.0, pos_single_player_button.1),
                    (frame_w, sprite_single_player_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_single_player_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_single_player_button.bind_group.as_ref(),
                    queue,
                    clip_single_player_button.0,
                    clip_single_player_button.1,
                    clip_single_player_button.2,
                    clip_single_player_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_single_player_button = rect_to_clip_space(
                    (pos_single_player_button.0, pos_single_player_button.1),
                    (size_single_player_button.0, size_single_player_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_single_player_button.bind_group.as_ref(),
                    queue,
                    clip_single_player_button.0,
                    clip_single_player_button.1,
                    clip_single_player_button.2,
                    clip_single_player_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "single_player_button".to_string(),
                hit_box: HitBox {
                    x: pos_single_player_button.0,
                    y: pos_single_player_button.1,
                    width: size_single_player_button.0 as f32,
                    height: size_single_player_button.1 as f32,
                },
            });
        }

        // TextBox: single_player_button_text (font: vic_22) - no panel field mapping

        // Widget: frontend_continue_bg
        if let Some(sprite_frontend_continue_bg) =
            widget_cache.sprites.get("GFX_frontend_continue_bg")
        {
            let size_frontend_continue_bg = sprite_frontend_continue_bg
                .target_size
                .unwrap_or(sprite_frontend_continue_bg.dimensions);
            let pos_frontend_continue_bg = position_from_anchor(
                window_anchor,
                (-206, -202),
                Orientation::UpperLeft,
                size_frontend_continue_bg,
            );

            if let Some(border) = sprite_frontend_continue_bg.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_continue_bg.bind_group.as_ref(),
                    queue,
                    pos_frontend_continue_bg.0,
                    pos_frontend_continue_bg.1,
                    size_frontend_continue_bg.0 as f32,
                    size_frontend_continue_bg.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_continue_bg.dimensions.0,
                    sprite_frontend_continue_bg.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_continue_bg.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_frontend_continue_bg.dimensions.0
                    / sprite_frontend_continue_bg.num_frames;
                let clip_frontend_continue_bg = rect_to_clip_space(
                    (pos_frontend_continue_bg.0, pos_frontend_continue_bg.1),
                    (frame_w, sprite_frontend_continue_bg.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_continue_bg.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_continue_bg.bind_group.as_ref(),
                    queue,
                    clip_frontend_continue_bg.0,
                    clip_frontend_continue_bg.1,
                    clip_frontend_continue_bg.2,
                    clip_frontend_continue_bg.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_continue_bg = rect_to_clip_space(
                    (pos_frontend_continue_bg.0, pos_frontend_continue_bg.1),
                    (size_frontend_continue_bg.0, size_frontend_continue_bg.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_continue_bg.bind_group.as_ref(),
                    queue,
                    clip_frontend_continue_bg.0,
                    clip_frontend_continue_bg.1,
                    clip_frontend_continue_bg.2,
                    clip_frontend_continue_bg.3,
                );
            }
        }

        // Widget: continue_game_button
        if let Some(sprite_continue_game_button) =
            widget_cache.sprites.get("GFX_frontend_continue_button")
        {
            let size_continue_game_button = sprite_continue_game_button
                .target_size
                .unwrap_or(sprite_continue_game_button.dimensions);
            let pos_continue_game_button = position_from_anchor(
                window_anchor,
                (-168, -178),
                Orientation::UpperLeft,
                size_continue_game_button,
            );

            if let Some(border) = sprite_continue_game_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_continue_game_button.bind_group.as_ref(),
                    queue,
                    pos_continue_game_button.0,
                    pos_continue_game_button.1,
                    size_continue_game_button.0 as f32,
                    size_continue_game_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_continue_game_button.dimensions.0,
                    sprite_continue_game_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_continue_game_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_continue_game_button.dimensions.0
                    / sprite_continue_game_button.num_frames;
                let clip_continue_game_button = rect_to_clip_space(
                    (pos_continue_game_button.0, pos_continue_game_button.1),
                    (frame_w, sprite_continue_game_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_continue_game_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_continue_game_button.bind_group.as_ref(),
                    queue,
                    clip_continue_game_button.0,
                    clip_continue_game_button.1,
                    clip_continue_game_button.2,
                    clip_continue_game_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_continue_game_button = rect_to_clip_space(
                    (pos_continue_game_button.0, pos_continue_game_button.1),
                    (size_continue_game_button.0, size_continue_game_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_continue_game_button.bind_group.as_ref(),
                    queue,
                    clip_continue_game_button.0,
                    clip_continue_game_button.1,
                    clip_continue_game_button.2,
                    clip_continue_game_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "continue_game_button".to_string(),
                hit_box: HitBox {
                    x: pos_continue_game_button.0,
                    y: pos_continue_game_button.1,
                    width: size_continue_game_button.0 as f32,
                    height: size_continue_game_button.1 as f32,
                },
            });
        }

        // Widget: continue_game_shield
        if let Some(sprite_continue_game_shield) = widget_cache.sprites.get("standarddialogshield")
        {
            let size_continue_game_shield = sprite_continue_game_shield
                .target_size
                .unwrap_or(sprite_continue_game_shield.dimensions);
            let pos_continue_game_shield = position_from_anchor(
                window_anchor,
                (-202, -204),
                Orientation::UpperLeft,
                size_continue_game_shield,
            );

            if let Some(border) = sprite_continue_game_shield.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_continue_game_shield.bind_group.as_ref(),
                    queue,
                    pos_continue_game_shield.0,
                    pos_continue_game_shield.1,
                    size_continue_game_shield.0 as f32,
                    size_continue_game_shield.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_continue_game_shield.dimensions.0,
                    sprite_continue_game_shield.dimensions.1,
                    screen_size,
                );
            } else if sprite_continue_game_shield.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_continue_game_shield.dimensions.0
                    / sprite_continue_game_shield.num_frames;
                let clip_continue_game_shield = rect_to_clip_space(
                    (pos_continue_game_shield.0, pos_continue_game_shield.1),
                    (frame_w, sprite_continue_game_shield.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_continue_game_shield.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_continue_game_shield.bind_group.as_ref(),
                    queue,
                    clip_continue_game_shield.0,
                    clip_continue_game_shield.1,
                    clip_continue_game_shield.2,
                    clip_continue_game_shield.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_continue_game_shield = rect_to_clip_space(
                    (pos_continue_game_shield.0, pos_continue_game_shield.1),
                    (size_continue_game_shield.0, size_continue_game_shield.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_continue_game_shield.bind_group.as_ref(),
                    queue,
                    clip_continue_game_shield.0,
                    clip_continue_game_shield.1,
                    clip_continue_game_shield.2,
                    clip_continue_game_shield.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "continue_game_shield".to_string(),
                hit_box: HitBox {
                    x: pos_continue_game_shield.0,
                    y: pos_continue_game_shield.1,
                    width: size_continue_game_shield.0 as f32,
                    height: size_continue_game_shield.1 as f32,
                },
            });
        }

        // TextBox: text (font: vic_22) - no panel field mapping

        // Widget: ironman_icon
        if let Some(sprite_ironman_icon) = widget_cache.sprites.get("GFX_ironman_icon") {
            let size_ironman_icon = sprite_ironman_icon
                .target_size
                .unwrap_or(sprite_ironman_icon.dimensions);
            let pos_ironman_icon = position_from_anchor(
                window_anchor,
                (107, -168),
                Orientation::UpperLeft,
                size_ironman_icon,
            );

            if let Some(border) = sprite_ironman_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_ironman_icon.bind_group.as_ref(),
                    queue,
                    pos_ironman_icon.0,
                    pos_ironman_icon.1,
                    size_ironman_icon.0 as f32,
                    size_ironman_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_ironman_icon.dimensions.0,
                    sprite_ironman_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_ironman_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_ironman_icon.dimensions.0 / sprite_ironman_icon.num_frames;
                let clip_ironman_icon = rect_to_clip_space(
                    (pos_ironman_icon.0, pos_ironman_icon.1),
                    (frame_w, sprite_ironman_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_ironman_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_ironman_icon.bind_group.as_ref(),
                    queue,
                    clip_ironman_icon.0,
                    clip_ironman_icon.1,
                    clip_ironman_icon.2,
                    clip_ironman_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_ironman_icon = rect_to_clip_space(
                    (pos_ironman_icon.0, pos_ironman_icon.1),
                    (size_ironman_icon.0, size_ironman_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_ironman_icon.bind_group.as_ref(),
                    queue,
                    clip_ironman_icon.0,
                    clip_ironman_icon.1,
                    clip_ironman_icon.2,
                    clip_ironman_icon.3,
                );
            }
        }

        // Widget: multi_player_button
        if let Some(sprite_multi_player_button) = widget_cache.sprites.get("GFX_frontend_mp_button")
        {
            let size_multi_player_button = sprite_multi_player_button
                .target_size
                .unwrap_or(sprite_multi_player_button.dimensions);
            let pos_multi_player_button = position_from_anchor(
                window_anchor,
                (1, -119),
                Orientation::UpperLeft,
                size_multi_player_button,
            );

            if let Some(border) = sprite_multi_player_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_multi_player_button.bind_group.as_ref(),
                    queue,
                    pos_multi_player_button.0,
                    pos_multi_player_button.1,
                    size_multi_player_button.0 as f32,
                    size_multi_player_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_multi_player_button.dimensions.0,
                    sprite_multi_player_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_multi_player_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_multi_player_button.dimensions.0 / sprite_multi_player_button.num_frames;
                let clip_multi_player_button = rect_to_clip_space(
                    (pos_multi_player_button.0, pos_multi_player_button.1),
                    (frame_w, sprite_multi_player_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_multi_player_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_multi_player_button.bind_group.as_ref(),
                    queue,
                    clip_multi_player_button.0,
                    clip_multi_player_button.1,
                    clip_multi_player_button.2,
                    clip_multi_player_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_multi_player_button = rect_to_clip_space(
                    (pos_multi_player_button.0, pos_multi_player_button.1),
                    (size_multi_player_button.0, size_multi_player_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_multi_player_button.bind_group.as_ref(),
                    queue,
                    clip_multi_player_button.0,
                    clip_multi_player_button.1,
                    clip_multi_player_button.2,
                    clip_multi_player_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "multi_player_button".to_string(),
                hit_box: HitBox {
                    x: pos_multi_player_button.0,
                    y: pos_multi_player_button.1,
                    width: size_multi_player_button.0 as f32,
                    height: size_multi_player_button.1 as f32,
                },
            });
        }

        // TextBox: multi_player_button_text (font: vic_22) - no panel field mapping

        // Widget: version_background
        if let Some(sprite_version_background) = widget_cache.sprites.get("GFX_frontend_version_bg")
        {
            let size_version_background = sprite_version_background
                .target_size
                .unwrap_or(sprite_version_background.dimensions);
            let pos_version_background = position_from_anchor(
                window_anchor,
                (-584, -64),
                Orientation::UpperLeft,
                size_version_background,
            );

            if let Some(border) = sprite_version_background.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_version_background.bind_group.as_ref(),
                    queue,
                    pos_version_background.0,
                    pos_version_background.1,
                    size_version_background.0 as f32,
                    size_version_background.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_version_background.dimensions.0,
                    sprite_version_background.dimensions.1,
                    screen_size,
                );
            } else if sprite_version_background.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_version_background.dimensions.0 / sprite_version_background.num_frames;
                let clip_version_background = rect_to_clip_space(
                    (pos_version_background.0, pos_version_background.1),
                    (frame_w, sprite_version_background.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_version_background.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_version_background.bind_group.as_ref(),
                    queue,
                    clip_version_background.0,
                    clip_version_background.1,
                    clip_version_background.2,
                    clip_version_background.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_version_background = rect_to_clip_space(
                    (pos_version_background.0, pos_version_background.1),
                    (size_version_background.0, size_version_background.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_version_background.bind_group.as_ref(),
                    queue,
                    clip_version_background.0,
                    clip_version_background.1,
                    clip_version_background.2,
                    clip_version_background.3,
                );
            }
        }

        // TextBox: version_label (font: vic_18) - no panel field mapping

        // Widget: nudge_button
        if let Some(sprite_nudge_button) = widget_cache.sprites.get("button_type_7") {
            let size_nudge_button = sprite_nudge_button
                .target_size
                .unwrap_or(sprite_nudge_button.dimensions);
            let pos_nudge_button = position_from_anchor(
                window_anchor,
                (328, -134),
                Orientation::UpperLeft,
                size_nudge_button,
            );

            if let Some(border) = sprite_nudge_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nudge_button.bind_group.as_ref(),
                    queue,
                    pos_nudge_button.0,
                    pos_nudge_button.1,
                    size_nudge_button.0 as f32,
                    size_nudge_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nudge_button.dimensions.0,
                    sprite_nudge_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_nudge_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nudge_button.dimensions.0 / sprite_nudge_button.num_frames;
                let clip_nudge_button = rect_to_clip_space(
                    (pos_nudge_button.0, pos_nudge_button.1),
                    (frame_w, sprite_nudge_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nudge_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nudge_button.bind_group.as_ref(),
                    queue,
                    clip_nudge_button.0,
                    clip_nudge_button.1,
                    clip_nudge_button.2,
                    clip_nudge_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nudge_button = rect_to_clip_space(
                    (pos_nudge_button.0, pos_nudge_button.1),
                    (size_nudge_button.0, size_nudge_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nudge_button.bind_group.as_ref(),
                    queue,
                    clip_nudge_button.0,
                    clip_nudge_button.1,
                    clip_nudge_button.2,
                    clip_nudge_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "nudge_button".to_string(),
                hit_box: HitBox {
                    x: pos_nudge_button.0,
                    y: pos_nudge_button.1,
                    width: size_nudge_button.0 as f32,
                    height: size_nudge_button.1 as f32,
                },
            });
        }

        // Widget: tutorial_button
        if let Some(sprite_tutorial_button) =
            widget_cache.sprites.get("GFX_frontend_panel_button_left")
        {
            let size_tutorial_button = sprite_tutorial_button
                .target_size
                .unwrap_or(sprite_tutorial_button.dimensions);
            let pos_tutorial_button = position_from_anchor(
                window_anchor,
                (-285, -57),
                Orientation::UpperLeft,
                size_tutorial_button,
            );

            if let Some(border) = sprite_tutorial_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_button.bind_group.as_ref(),
                    queue,
                    pos_tutorial_button.0,
                    pos_tutorial_button.1,
                    size_tutorial_button.0 as f32,
                    size_tutorial_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_button.dimensions.0,
                    sprite_tutorial_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_tutorial_button.dimensions.0 / sprite_tutorial_button.num_frames;
                let clip_tutorial_button = rect_to_clip_space(
                    (pos_tutorial_button.0, pos_tutorial_button.1),
                    (frame_w, sprite_tutorial_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_button.bind_group.as_ref(),
                    queue,
                    clip_tutorial_button.0,
                    clip_tutorial_button.1,
                    clip_tutorial_button.2,
                    clip_tutorial_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_button = rect_to_clip_space(
                    (pos_tutorial_button.0, pos_tutorial_button.1),
                    (size_tutorial_button.0, size_tutorial_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_button.bind_group.as_ref(),
                    queue,
                    clip_tutorial_button.0,
                    clip_tutorial_button.1,
                    clip_tutorial_button.2,
                    clip_tutorial_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "tutorial_button".to_string(),
                hit_box: HitBox {
                    x: pos_tutorial_button.0,
                    y: pos_tutorial_button.1,
                    width: size_tutorial_button.0 as f32,
                    height: size_tutorial_button.1 as f32,
                },
            });
        }

        // TextBox: tutorial_button_text (font: vic_22) - no panel field mapping

        // Widget: credits_button
        if let Some(sprite_credits_button) =
            widget_cache.sprites.get("GFX_frontend_panel_button_center")
        {
            let size_credits_button = sprite_credits_button
                .target_size
                .unwrap_or(sprite_credits_button.dimensions);
            let pos_credits_button = position_from_anchor(
                window_anchor,
                (-139, -57),
                Orientation::UpperLeft,
                size_credits_button,
            );

            if let Some(border) = sprite_credits_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_credits_button.bind_group.as_ref(),
                    queue,
                    pos_credits_button.0,
                    pos_credits_button.1,
                    size_credits_button.0 as f32,
                    size_credits_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_credits_button.dimensions.0,
                    sprite_credits_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_credits_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_credits_button.dimensions.0 / sprite_credits_button.num_frames;
                let clip_credits_button = rect_to_clip_space(
                    (pos_credits_button.0, pos_credits_button.1),
                    (frame_w, sprite_credits_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_credits_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_credits_button.bind_group.as_ref(),
                    queue,
                    clip_credits_button.0,
                    clip_credits_button.1,
                    clip_credits_button.2,
                    clip_credits_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_credits_button = rect_to_clip_space(
                    (pos_credits_button.0, pos_credits_button.1),
                    (size_credits_button.0, size_credits_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_credits_button.bind_group.as_ref(),
                    queue,
                    clip_credits_button.0,
                    clip_credits_button.1,
                    clip_credits_button.2,
                    clip_credits_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "credits_button".to_string(),
                hit_box: HitBox {
                    x: pos_credits_button.0,
                    y: pos_credits_button.1,
                    width: size_credits_button.0 as f32,
                    height: size_credits_button.1 as f32,
                },
            });
        }

        // Widget: settings_button
        if let Some(sprite_settings_button) =
            widget_cache.sprites.get("GFX_frontend_panel_button_center")
        {
            let size_settings_button = sprite_settings_button
                .target_size
                .unwrap_or(sprite_settings_button.dimensions);
            let pos_settings_button = position_from_anchor(
                window_anchor,
                (1, -57),
                Orientation::UpperLeft,
                size_settings_button,
            );

            if let Some(border) = sprite_settings_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_settings_button.bind_group.as_ref(),
                    queue,
                    pos_settings_button.0,
                    pos_settings_button.1,
                    size_settings_button.0 as f32,
                    size_settings_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_settings_button.dimensions.0,
                    sprite_settings_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_settings_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_settings_button.dimensions.0 / sprite_settings_button.num_frames;
                let clip_settings_button = rect_to_clip_space(
                    (pos_settings_button.0, pos_settings_button.1),
                    (frame_w, sprite_settings_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_settings_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_settings_button.bind_group.as_ref(),
                    queue,
                    clip_settings_button.0,
                    clip_settings_button.1,
                    clip_settings_button.2,
                    clip_settings_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_settings_button = rect_to_clip_space(
                    (pos_settings_button.0, pos_settings_button.1),
                    (size_settings_button.0, size_settings_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_settings_button.bind_group.as_ref(),
                    queue,
                    clip_settings_button.0,
                    clip_settings_button.1,
                    clip_settings_button.2,
                    clip_settings_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "settings_button".to_string(),
                hit_box: HitBox {
                    x: pos_settings_button.0,
                    y: pos_settings_button.1,
                    width: size_settings_button.0 as f32,
                    height: size_settings_button.1 as f32,
                },
            });
        }

        // Widget: exit_button
        if let Some(sprite_exit_button) =
            widget_cache.sprites.get("GFX_frontend_panel_button_right")
        {
            let size_exit_button = sprite_exit_button
                .target_size
                .unwrap_or(sprite_exit_button.dimensions);
            let pos_exit_button = position_from_anchor(
                window_anchor,
                (140, -57),
                Orientation::UpperLeft,
                size_exit_button,
            );

            if let Some(border) = sprite_exit_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_exit_button.bind_group.as_ref(),
                    queue,
                    pos_exit_button.0,
                    pos_exit_button.1,
                    size_exit_button.0 as f32,
                    size_exit_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_exit_button.dimensions.0,
                    sprite_exit_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_exit_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_exit_button.dimensions.0 / sprite_exit_button.num_frames;
                let clip_exit_button = rect_to_clip_space(
                    (pos_exit_button.0, pos_exit_button.1),
                    (frame_w, sprite_exit_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_exit_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_exit_button.bind_group.as_ref(),
                    queue,
                    clip_exit_button.0,
                    clip_exit_button.1,
                    clip_exit_button.2,
                    clip_exit_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_exit_button = rect_to_clip_space(
                    (pos_exit_button.0, pos_exit_button.1),
                    (size_exit_button.0, size_exit_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_exit_button.bind_group.as_ref(),
                    queue,
                    clip_exit_button.0,
                    clip_exit_button.1,
                    clip_exit_button.2,
                    clip_exit_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "exit_button".to_string(),
                hit_box: HitBox {
                    x: pos_exit_button.0,
                    y: pos_exit_button.1,
                    width: size_exit_button.0 as f32,
                    height: size_exit_button.1 as f32,
                },
            });
        }

        // TextBox: exit_button_text (font: vic_22) - no panel field mapping

        // Widget: background
        if let Some(sprite_background) = widget_cache.sprites.get("GFX_social_buttons_bg") {
            let size_background = sprite_background
                .target_size
                .unwrap_or(sprite_background.dimensions);
            let pos_background = position_from_anchor(
                window_anchor,
                (336, -65),
                Orientation::UpperLeft,
                size_background,
            );

            if let Some(border) = sprite_background.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    pos_background.0,
                    pos_background.1,
                    size_background.0 as f32,
                    size_background.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_background.dimensions.0,
                    sprite_background.dimensions.1,
                    screen_size,
                );
            } else if sprite_background.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_background.dimensions.0 / sprite_background.num_frames;
                let clip_background = rect_to_clip_space(
                    (pos_background.0, pos_background.1),
                    (frame_w, sprite_background.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_background.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    clip_background.0,
                    clip_background.1,
                    clip_background.2,
                    clip_background.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_background = rect_to_clip_space(
                    (pos_background.0, pos_background.1),
                    (size_background.0, size_background.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    clip_background.0,
                    clip_background.1,
                    clip_background.2,
                    clip_background.3,
                );
            }
        }

        // Widget: frontend_game_logo
        if let Some(sprite_frontend_game_logo) = widget_cache.sprites.get("GFX_frontend_game_logo")
        {
            let size_frontend_game_logo = sprite_frontend_game_logo
                .target_size
                .unwrap_or(sprite_frontend_game_logo.dimensions);
            let pos_frontend_game_logo = position_from_anchor(
                window_anchor,
                (-310, -1),
                Orientation::UpperLeft,
                size_frontend_game_logo,
            );

            if let Some(border) = sprite_frontend_game_logo.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_game_logo.bind_group.as_ref(),
                    queue,
                    pos_frontend_game_logo.0,
                    pos_frontend_game_logo.1,
                    size_frontend_game_logo.0 as f32,
                    size_frontend_game_logo.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_game_logo.dimensions.0,
                    sprite_frontend_game_logo.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_game_logo.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_frontend_game_logo.dimensions.0 / sprite_frontend_game_logo.num_frames;
                let clip_frontend_game_logo = rect_to_clip_space(
                    (pos_frontend_game_logo.0, pos_frontend_game_logo.1),
                    (frame_w, sprite_frontend_game_logo.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_game_logo.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_game_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_game_logo.0,
                    clip_frontend_game_logo.1,
                    clip_frontend_game_logo.2,
                    clip_frontend_game_logo.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_game_logo = rect_to_clip_space(
                    (pos_frontend_game_logo.0, pos_frontend_game_logo.1),
                    (size_frontend_game_logo.0, size_frontend_game_logo.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_game_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_game_logo.0,
                    clip_frontend_game_logo.1,
                    clip_frontend_game_logo.2,
                    clip_frontend_game_logo.3,
                );
            }
        }

        // Widget: frontend_dev_logo
        if let Some(sprite_frontend_dev_logo) = widget_cache.sprites.get("GFX_frontend_tinto_logo")
        {
            let size_frontend_dev_logo = sprite_frontend_dev_logo
                .target_size
                .unwrap_or(sprite_frontend_dev_logo.dimensions);
            let pos_frontend_dev_logo = position_from_anchor(
                window_anchor,
                (-310, -1),
                Orientation::UpperLeft,
                size_frontend_dev_logo,
            );

            if let Some(border) = sprite_frontend_dev_logo.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_dev_logo.bind_group.as_ref(),
                    queue,
                    pos_frontend_dev_logo.0,
                    pos_frontend_dev_logo.1,
                    size_frontend_dev_logo.0 as f32,
                    size_frontend_dev_logo.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_dev_logo.dimensions.0,
                    sprite_frontend_dev_logo.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_dev_logo.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_frontend_dev_logo.dimensions.0 / sprite_frontend_dev_logo.num_frames;
                let clip_frontend_dev_logo = rect_to_clip_space(
                    (pos_frontend_dev_logo.0, pos_frontend_dev_logo.1),
                    (frame_w, sprite_frontend_dev_logo.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_dev_logo.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_dev_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_dev_logo.0,
                    clip_frontend_dev_logo.1,
                    clip_frontend_dev_logo.2,
                    clip_frontend_dev_logo.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_dev_logo = rect_to_clip_space(
                    (pos_frontend_dev_logo.0, pos_frontend_dev_logo.1),
                    (size_frontend_dev_logo.0, size_frontend_dev_logo.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_dev_logo.bind_group.as_ref(),
                    queue,
                    clip_frontend_dev_logo.0,
                    clip_frontend_dev_logo.1,
                    clip_frontend_dev_logo.2,
                    clip_frontend_dev_logo.3,
                );
            }
        }

        // Widget: single_player_button
        if let Some(sprite_single_player_button) =
            widget_cache.sprites.get("GFX_frontend_sp_button")
        {
            let size_single_player_button = sprite_single_player_button
                .target_size
                .unwrap_or(sprite_single_player_button.dimensions);
            let pos_single_player_button = position_from_anchor(
                window_anchor,
                (-260, 3),
                Orientation::UpperLeft,
                size_single_player_button,
            );

            if let Some(border) = sprite_single_player_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_single_player_button.bind_group.as_ref(),
                    queue,
                    pos_single_player_button.0,
                    pos_single_player_button.1,
                    size_single_player_button.0 as f32,
                    size_single_player_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_single_player_button.dimensions.0,
                    sprite_single_player_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_single_player_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_single_player_button.dimensions.0
                    / sprite_single_player_button.num_frames;
                let clip_single_player_button = rect_to_clip_space(
                    (pos_single_player_button.0, pos_single_player_button.1),
                    (frame_w, sprite_single_player_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_single_player_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_single_player_button.bind_group.as_ref(),
                    queue,
                    clip_single_player_button.0,
                    clip_single_player_button.1,
                    clip_single_player_button.2,
                    clip_single_player_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_single_player_button = rect_to_clip_space(
                    (pos_single_player_button.0, pos_single_player_button.1),
                    (size_single_player_button.0, size_single_player_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_single_player_button.bind_group.as_ref(),
                    queue,
                    clip_single_player_button.0,
                    clip_single_player_button.1,
                    clip_single_player_button.2,
                    clip_single_player_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "single_player_button".to_string(),
                hit_box: HitBox {
                    x: pos_single_player_button.0,
                    y: pos_single_player_button.1,
                    width: size_single_player_button.0 as f32,
                    height: size_single_player_button.1 as f32,
                },
            });
        }

        // TextBox: single_player_button_text (font: vic_22) - no panel field mapping

        // Widget: multi_player_button
        if let Some(sprite_multi_player_button) = widget_cache.sprites.get("GFX_frontend_mp_button")
        {
            let size_multi_player_button = sprite_multi_player_button
                .target_size
                .unwrap_or(sprite_multi_player_button.dimensions);
            let pos_multi_player_button = position_from_anchor(
                window_anchor,
                (0, 3),
                Orientation::UpperLeft,
                size_multi_player_button,
            );

            if let Some(border) = sprite_multi_player_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_multi_player_button.bind_group.as_ref(),
                    queue,
                    pos_multi_player_button.0,
                    pos_multi_player_button.1,
                    size_multi_player_button.0 as f32,
                    size_multi_player_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_multi_player_button.dimensions.0,
                    sprite_multi_player_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_multi_player_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_multi_player_button.dimensions.0 / sprite_multi_player_button.num_frames;
                let clip_multi_player_button = rect_to_clip_space(
                    (pos_multi_player_button.0, pos_multi_player_button.1),
                    (frame_w, sprite_multi_player_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_multi_player_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_multi_player_button.bind_group.as_ref(),
                    queue,
                    clip_multi_player_button.0,
                    clip_multi_player_button.1,
                    clip_multi_player_button.2,
                    clip_multi_player_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_multi_player_button = rect_to_clip_space(
                    (pos_multi_player_button.0, pos_multi_player_button.1),
                    (size_multi_player_button.0, size_multi_player_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_multi_player_button.bind_group.as_ref(),
                    queue,
                    clip_multi_player_button.0,
                    clip_multi_player_button.1,
                    clip_multi_player_button.2,
                    clip_multi_player_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "multi_player_button".to_string(),
                hit_box: HitBox {
                    x: pos_multi_player_button.0,
                    y: pos_multi_player_button.1,
                    width: size_multi_player_button.0 as f32,
                    height: size_multi_player_button.1 as f32,
                },
            });
        }

        // TextBox: multi_player_button_text (font: vic_22) - no panel field mapping

        // Widget: tutorial_list_bg
        if let Some(sprite_tutorial_list_bg) = widget_cache.sprites.get("GFX_tutorial_list_bg") {
            let size_tutorial_list_bg = sprite_tutorial_list_bg
                .target_size
                .unwrap_or(sprite_tutorial_list_bg.dimensions);
            let pos_tutorial_list_bg = position_from_anchor(
                window_anchor,
                (-360, -140),
                Orientation::UpperLeft,
                size_tutorial_list_bg,
            );

            if let Some(border) = sprite_tutorial_list_bg.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_list_bg.bind_group.as_ref(),
                    queue,
                    pos_tutorial_list_bg.0,
                    pos_tutorial_list_bg.1,
                    size_tutorial_list_bg.0 as f32,
                    size_tutorial_list_bg.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_list_bg.dimensions.0,
                    sprite_tutorial_list_bg.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_list_bg.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_tutorial_list_bg.dimensions.0 / sprite_tutorial_list_bg.num_frames;
                let clip_tutorial_list_bg = rect_to_clip_space(
                    (pos_tutorial_list_bg.0, pos_tutorial_list_bg.1),
                    (frame_w, sprite_tutorial_list_bg.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_list_bg.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_list_bg.bind_group.as_ref(),
                    queue,
                    clip_tutorial_list_bg.0,
                    clip_tutorial_list_bg.1,
                    clip_tutorial_list_bg.2,
                    clip_tutorial_list_bg.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_list_bg = rect_to_clip_space(
                    (pos_tutorial_list_bg.0, pos_tutorial_list_bg.1),
                    (size_tutorial_list_bg.0, size_tutorial_list_bg.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_list_bg.bind_group.as_ref(),
                    queue,
                    clip_tutorial_list_bg.0,
                    clip_tutorial_list_bg.1,
                    clip_tutorial_list_bg.2,
                    clip_tutorial_list_bg.3,
                );
            }
        }

        // Widget: tutorial_select_tab1
        if let Some(sprite_tutorial_select_tab1) =
            widget_cache.sprites.get("GFX_tutorial_select_tab")
        {
            let size_tutorial_select_tab1 = sprite_tutorial_select_tab1
                .target_size
                .unwrap_or(sprite_tutorial_select_tab1.dimensions);
            let pos_tutorial_select_tab1 = position_from_anchor(
                window_anchor,
                (-342, -55),
                Orientation::UpperLeft,
                size_tutorial_select_tab1,
            );

            if let Some(border) = sprite_tutorial_select_tab1.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_select_tab1.bind_group.as_ref(),
                    queue,
                    pos_tutorial_select_tab1.0,
                    pos_tutorial_select_tab1.1,
                    size_tutorial_select_tab1.0 as f32,
                    size_tutorial_select_tab1.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_select_tab1.dimensions.0,
                    sprite_tutorial_select_tab1.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_select_tab1.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_tutorial_select_tab1.dimensions.0
                    / sprite_tutorial_select_tab1.num_frames;
                let clip_tutorial_select_tab1 = rect_to_clip_space(
                    (pos_tutorial_select_tab1.0, pos_tutorial_select_tab1.1),
                    (frame_w, sprite_tutorial_select_tab1.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_select_tab1.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_select_tab1.bind_group.as_ref(),
                    queue,
                    clip_tutorial_select_tab1.0,
                    clip_tutorial_select_tab1.1,
                    clip_tutorial_select_tab1.2,
                    clip_tutorial_select_tab1.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_select_tab1 = rect_to_clip_space(
                    (pos_tutorial_select_tab1.0, pos_tutorial_select_tab1.1),
                    (size_tutorial_select_tab1.0, size_tutorial_select_tab1.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_select_tab1.bind_group.as_ref(),
                    queue,
                    clip_tutorial_select_tab1.0,
                    clip_tutorial_select_tab1.1,
                    clip_tutorial_select_tab1.2,
                    clip_tutorial_select_tab1.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "tutorial_select_tab1".to_string(),
                hit_box: HitBox {
                    x: pos_tutorial_select_tab1.0,
                    y: pos_tutorial_select_tab1.1,
                    width: size_tutorial_select_tab1.0 as f32,
                    height: size_tutorial_select_tab1.1 as f32,
                },
            });
        }

        // Widget: tutorial_select_tab2
        if let Some(sprite_tutorial_select_tab2) =
            widget_cache.sprites.get("GFX_tutorial_select_tab")
        {
            let size_tutorial_select_tab2 = sprite_tutorial_select_tab2
                .target_size
                .unwrap_or(sprite_tutorial_select_tab2.dimensions);
            let pos_tutorial_select_tab2 = position_from_anchor(
                window_anchor,
                (-342, 48),
                Orientation::UpperLeft,
                size_tutorial_select_tab2,
            );

            if let Some(border) = sprite_tutorial_select_tab2.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_select_tab2.bind_group.as_ref(),
                    queue,
                    pos_tutorial_select_tab2.0,
                    pos_tutorial_select_tab2.1,
                    size_tutorial_select_tab2.0 as f32,
                    size_tutorial_select_tab2.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_select_tab2.dimensions.0,
                    sprite_tutorial_select_tab2.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_select_tab2.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_tutorial_select_tab2.dimensions.0
                    / sprite_tutorial_select_tab2.num_frames;
                let clip_tutorial_select_tab2 = rect_to_clip_space(
                    (pos_tutorial_select_tab2.0, pos_tutorial_select_tab2.1),
                    (frame_w, sprite_tutorial_select_tab2.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_select_tab2.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_select_tab2.bind_group.as_ref(),
                    queue,
                    clip_tutorial_select_tab2.0,
                    clip_tutorial_select_tab2.1,
                    clip_tutorial_select_tab2.2,
                    clip_tutorial_select_tab2.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_select_tab2 = rect_to_clip_space(
                    (pos_tutorial_select_tab2.0, pos_tutorial_select_tab2.1),
                    (size_tutorial_select_tab2.0, size_tutorial_select_tab2.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_select_tab2.bind_group.as_ref(),
                    queue,
                    clip_tutorial_select_tab2.0,
                    clip_tutorial_select_tab2.1,
                    clip_tutorial_select_tab2.2,
                    clip_tutorial_select_tab2.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "tutorial_select_tab2".to_string(),
                hit_box: HitBox {
                    x: pos_tutorial_select_tab2.0,
                    y: pos_tutorial_select_tab2.1,
                    width: size_tutorial_select_tab2.0 as f32,
                    height: size_tutorial_select_tab2.1 as f32,
                },
            });
        }

        // Widget: tutorial_select_tab3
        if let Some(sprite_tutorial_select_tab3) =
            widget_cache.sprites.get("GFX_tutorial_select_tab")
        {
            let size_tutorial_select_tab3 = sprite_tutorial_select_tab3
                .target_size
                .unwrap_or(sprite_tutorial_select_tab3.dimensions);
            let pos_tutorial_select_tab3 = position_from_anchor(
                window_anchor,
                (-342, 151),
                Orientation::UpperLeft,
                size_tutorial_select_tab3,
            );

            if let Some(border) = sprite_tutorial_select_tab3.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_select_tab3.bind_group.as_ref(),
                    queue,
                    pos_tutorial_select_tab3.0,
                    pos_tutorial_select_tab3.1,
                    size_tutorial_select_tab3.0 as f32,
                    size_tutorial_select_tab3.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_select_tab3.dimensions.0,
                    sprite_tutorial_select_tab3.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_select_tab3.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_tutorial_select_tab3.dimensions.0
                    / sprite_tutorial_select_tab3.num_frames;
                let clip_tutorial_select_tab3 = rect_to_clip_space(
                    (pos_tutorial_select_tab3.0, pos_tutorial_select_tab3.1),
                    (frame_w, sprite_tutorial_select_tab3.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_select_tab3.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_select_tab3.bind_group.as_ref(),
                    queue,
                    clip_tutorial_select_tab3.0,
                    clip_tutorial_select_tab3.1,
                    clip_tutorial_select_tab3.2,
                    clip_tutorial_select_tab3.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_select_tab3 = rect_to_clip_space(
                    (pos_tutorial_select_tab3.0, pos_tutorial_select_tab3.1),
                    (size_tutorial_select_tab3.0, size_tutorial_select_tab3.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_select_tab3.bind_group.as_ref(),
                    queue,
                    clip_tutorial_select_tab3.0,
                    clip_tutorial_select_tab3.1,
                    clip_tutorial_select_tab3.2,
                    clip_tutorial_select_tab3.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "tutorial_select_tab3".to_string(),
                hit_box: HitBox {
                    x: pos_tutorial_select_tab3.0,
                    y: pos_tutorial_select_tab3.1,
                    width: size_tutorial_select_tab3.0 as f32,
                    height: size_tutorial_select_tab3.1 as f32,
                },
            });
        }

        // Widget: tutorial_part_bas_pic
        if let Some(sprite_tutorial_part_bas_pic) = widget_cache.sprites.get("GFX_basic_tut") {
            let size_tutorial_part_bas_pic = sprite_tutorial_part_bas_pic
                .target_size
                .unwrap_or(sprite_tutorial_part_bas_pic.dimensions);
            let pos_tutorial_part_bas_pic = position_from_anchor(
                window_anchor,
                (-332, -42),
                Orientation::UpperLeft,
                size_tutorial_part_bas_pic,
            );

            if let Some(border) = sprite_tutorial_part_bas_pic.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_part_bas_pic.bind_group.as_ref(),
                    queue,
                    pos_tutorial_part_bas_pic.0,
                    pos_tutorial_part_bas_pic.1,
                    size_tutorial_part_bas_pic.0 as f32,
                    size_tutorial_part_bas_pic.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_part_bas_pic.dimensions.0,
                    sprite_tutorial_part_bas_pic.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_part_bas_pic.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_tutorial_part_bas_pic.dimensions.0
                    / sprite_tutorial_part_bas_pic.num_frames;
                let clip_tutorial_part_bas_pic = rect_to_clip_space(
                    (pos_tutorial_part_bas_pic.0, pos_tutorial_part_bas_pic.1),
                    (frame_w, sprite_tutorial_part_bas_pic.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_part_bas_pic.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_part_bas_pic.bind_group.as_ref(),
                    queue,
                    clip_tutorial_part_bas_pic.0,
                    clip_tutorial_part_bas_pic.1,
                    clip_tutorial_part_bas_pic.2,
                    clip_tutorial_part_bas_pic.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_part_bas_pic = rect_to_clip_space(
                    (pos_tutorial_part_bas_pic.0, pos_tutorial_part_bas_pic.1),
                    (size_tutorial_part_bas_pic.0, size_tutorial_part_bas_pic.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_part_bas_pic.bind_group.as_ref(),
                    queue,
                    clip_tutorial_part_bas_pic.0,
                    clip_tutorial_part_bas_pic.1,
                    clip_tutorial_part_bas_pic.2,
                    clip_tutorial_part_bas_pic.3,
                );
            }
        }

        // Widget: tutorial_part_adv_pic
        if let Some(sprite_tutorial_part_adv_pic) = widget_cache.sprites.get("GFX_advanced_tut") {
            let size_tutorial_part_adv_pic = sprite_tutorial_part_adv_pic
                .target_size
                .unwrap_or(sprite_tutorial_part_adv_pic.dimensions);
            let pos_tutorial_part_adv_pic = position_from_anchor(
                window_anchor,
                (-332, 61),
                Orientation::UpperLeft,
                size_tutorial_part_adv_pic,
            );

            if let Some(border) = sprite_tutorial_part_adv_pic.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_part_adv_pic.bind_group.as_ref(),
                    queue,
                    pos_tutorial_part_adv_pic.0,
                    pos_tutorial_part_adv_pic.1,
                    size_tutorial_part_adv_pic.0 as f32,
                    size_tutorial_part_adv_pic.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_part_adv_pic.dimensions.0,
                    sprite_tutorial_part_adv_pic.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_part_adv_pic.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_tutorial_part_adv_pic.dimensions.0
                    / sprite_tutorial_part_adv_pic.num_frames;
                let clip_tutorial_part_adv_pic = rect_to_clip_space(
                    (pos_tutorial_part_adv_pic.0, pos_tutorial_part_adv_pic.1),
                    (frame_w, sprite_tutorial_part_adv_pic.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_part_adv_pic.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_part_adv_pic.bind_group.as_ref(),
                    queue,
                    clip_tutorial_part_adv_pic.0,
                    clip_tutorial_part_adv_pic.1,
                    clip_tutorial_part_adv_pic.2,
                    clip_tutorial_part_adv_pic.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_part_adv_pic = rect_to_clip_space(
                    (pos_tutorial_part_adv_pic.0, pos_tutorial_part_adv_pic.1),
                    (size_tutorial_part_adv_pic.0, size_tutorial_part_adv_pic.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_part_adv_pic.bind_group.as_ref(),
                    queue,
                    clip_tutorial_part_adv_pic.0,
                    clip_tutorial_part_adv_pic.1,
                    clip_tutorial_part_adv_pic.2,
                    clip_tutorial_part_adv_pic.3,
                );
            }
        }

        // Widget: tutorial_part_cam_pic
        if let Some(sprite_tutorial_part_cam_pic) = widget_cache.sprites.get("GFX_Spa_empire_tut") {
            let size_tutorial_part_cam_pic = sprite_tutorial_part_cam_pic
                .target_size
                .unwrap_or(sprite_tutorial_part_cam_pic.dimensions);
            let pos_tutorial_part_cam_pic = position_from_anchor(
                window_anchor,
                (-332, 164),
                Orientation::UpperLeft,
                size_tutorial_part_cam_pic,
            );

            if let Some(border) = sprite_tutorial_part_cam_pic.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_tutorial_part_cam_pic.bind_group.as_ref(),
                    queue,
                    pos_tutorial_part_cam_pic.0,
                    pos_tutorial_part_cam_pic.1,
                    size_tutorial_part_cam_pic.0 as f32,
                    size_tutorial_part_cam_pic.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_tutorial_part_cam_pic.dimensions.0,
                    sprite_tutorial_part_cam_pic.dimensions.1,
                    screen_size,
                );
            } else if sprite_tutorial_part_cam_pic.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_tutorial_part_cam_pic.dimensions.0
                    / sprite_tutorial_part_cam_pic.num_frames;
                let clip_tutorial_part_cam_pic = rect_to_clip_space(
                    (pos_tutorial_part_cam_pic.0, pos_tutorial_part_cam_pic.1),
                    (frame_w, sprite_tutorial_part_cam_pic.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_tutorial_part_cam_pic.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_tutorial_part_cam_pic.bind_group.as_ref(),
                    queue,
                    clip_tutorial_part_cam_pic.0,
                    clip_tutorial_part_cam_pic.1,
                    clip_tutorial_part_cam_pic.2,
                    clip_tutorial_part_cam_pic.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_tutorial_part_cam_pic = rect_to_clip_space(
                    (pos_tutorial_part_cam_pic.0, pos_tutorial_part_cam_pic.1),
                    (size_tutorial_part_cam_pic.0, size_tutorial_part_cam_pic.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_tutorial_part_cam_pic.bind_group.as_ref(),
                    queue,
                    clip_tutorial_part_cam_pic.0,
                    clip_tutorial_part_cam_pic.1,
                    clip_tutorial_part_cam_pic.2,
                    clip_tutorial_part_cam_pic.3,
                );
            }
        }

        // TextBox: tutorial_part_bas_title (font: vic_18) - no panel field mapping

        // TextBox: tutorial_part_adv_title (font: vic_18) - no panel field mapping

        // TextBox: tutorial_part_cam_title (font: vic_18) - no panel field mapping

        // TextBox: tutorial_label (font: vic_29s) - no panel field mapping

        // TextBox: tutorial_title (font: vic_22) - no panel field mapping

        // TextBox: tutorial_desc (font: vic_18) - no panel field mapping

        // TextBox: tutorial_part_desc (font: vic_18) - no panel field mapping

        // TODO: Widget tutorial_list (Listbox) not yet implemented

        // Widget: back_button
        if let Some(sprite_back_button) = widget_cache.sprites.get("button_type_1") {
            let size_back_button = sprite_back_button
                .target_size
                .unwrap_or(sprite_back_button.dimensions);
            let pos_back_button = position_from_anchor(
                window_anchor,
                (-320, 255),
                Orientation::UpperLeft,
                size_back_button,
            );

            if let Some(border) = sprite_back_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    pos_back_button.0,
                    pos_back_button.1,
                    size_back_button.0 as f32,
                    size_back_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_back_button.dimensions.0,
                    sprite_back_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_back_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_back_button.dimensions.0 / sprite_back_button.num_frames;
                let clip_back_button = rect_to_clip_space(
                    (pos_back_button.0, pos_back_button.1),
                    (frame_w, sprite_back_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_back_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    clip_back_button.0,
                    clip_back_button.1,
                    clip_back_button.2,
                    clip_back_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_back_button = rect_to_clip_space(
                    (pos_back_button.0, pos_back_button.1),
                    (size_back_button.0, size_back_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    clip_back_button.0,
                    clip_back_button.1,
                    clip_back_button.2,
                    clip_back_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "back_button".to_string(),
                hit_box: HitBox {
                    x: pos_back_button.0,
                    y: pos_back_button.1,
                    width: size_back_button.0 as f32,
                    height: size_back_button.1 as f32,
                },
            });
        }

        // Widget: play_button
        if let Some(sprite_play_button) = widget_cache.sprites.get("button_type_1") {
            let size_play_button = sprite_play_button
                .target_size
                .unwrap_or(sprite_play_button.dimensions);
            let pos_play_button = position_from_anchor(
                window_anchor,
                (190, 255),
                Orientation::UpperLeft,
                size_play_button,
            );

            if let Some(border) = sprite_play_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_play_button.bind_group.as_ref(),
                    queue,
                    pos_play_button.0,
                    pos_play_button.1,
                    size_play_button.0 as f32,
                    size_play_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_play_button.dimensions.0,
                    sprite_play_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_play_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_play_button.dimensions.0 / sprite_play_button.num_frames;
                let clip_play_button = rect_to_clip_space(
                    (pos_play_button.0, pos_play_button.1),
                    (frame_w, sprite_play_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_play_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_play_button.bind_group.as_ref(),
                    queue,
                    clip_play_button.0,
                    clip_play_button.1,
                    clip_play_button.2,
                    clip_play_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_play_button = rect_to_clip_space(
                    (pos_play_button.0, pos_play_button.1),
                    (size_play_button.0, size_play_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_play_button.bind_group.as_ref(),
                    queue,
                    clip_play_button.0,
                    clip_play_button.1,
                    clip_play_button.2,
                    clip_play_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "play_button".to_string(),
                hit_box: HitBox {
                    x: pos_play_button.0,
                    y: pos_play_button.1,
                    width: size_play_button.0 as f32,
                    height: size_play_button.1 as f32,
                },
            });
        }

        // Widget: back_button
        if let Some(sprite_back_button) = widget_cache.sprites.get("button_type_6") {
            let size_back_button = sprite_back_button
                .target_size
                .unwrap_or(sprite_back_button.dimensions);
            let pos_back_button = position_from_anchor(
                window_anchor,
                (-60, 120),
                Orientation::UpperLeft,
                size_back_button,
            );

            if let Some(border) = sprite_back_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    pos_back_button.0,
                    pos_back_button.1,
                    size_back_button.0 as f32,
                    size_back_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_back_button.dimensions.0,
                    sprite_back_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_back_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_back_button.dimensions.0 / sprite_back_button.num_frames;
                let clip_back_button = rect_to_clip_space(
                    (pos_back_button.0, pos_back_button.1),
                    (frame_w, sprite_back_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_back_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    clip_back_button.0,
                    clip_back_button.1,
                    clip_back_button.2,
                    clip_back_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_back_button = rect_to_clip_space(
                    (pos_back_button.0, pos_back_button.1),
                    (size_back_button.0, size_back_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    clip_back_button.0,
                    clip_back_button.1,
                    clip_back_button.2,
                    clip_back_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "back_button".to_string(),
                hit_box: HitBox {
                    x: pos_back_button.0,
                    y: pos_back_button.1,
                    width: size_back_button.0 as f32,
                    height: size_back_button.1 as f32,
                },
            });
        }

        // Widget: chatpanel
        if let Some(sprite_chatpanel) = widget_cache.sprites.get("GFX_lobby_chat_bg") {
            let size_chatpanel = sprite_chatpanel
                .target_size
                .unwrap_or(sprite_chatpanel.dimensions);
            let pos_chatpanel = position_from_anchor(
                window_anchor,
                (0, 0),
                Orientation::UpperLeft,
                size_chatpanel,
            );

            if let Some(border) = sprite_chatpanel.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_chatpanel.bind_group.as_ref(),
                    queue,
                    pos_chatpanel.0,
                    pos_chatpanel.1,
                    size_chatpanel.0 as f32,
                    size_chatpanel.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_chatpanel.dimensions.0,
                    sprite_chatpanel.dimensions.1,
                    screen_size,
                );
            } else if sprite_chatpanel.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_chatpanel.dimensions.0 / sprite_chatpanel.num_frames;
                let clip_chatpanel = rect_to_clip_space(
                    (pos_chatpanel.0, pos_chatpanel.1),
                    (frame_w, sprite_chatpanel.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_chatpanel.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_chatpanel.bind_group.as_ref(),
                    queue,
                    clip_chatpanel.0,
                    clip_chatpanel.1,
                    clip_chatpanel.2,
                    clip_chatpanel.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_chatpanel = rect_to_clip_space(
                    (pos_chatpanel.0, pos_chatpanel.1),
                    (size_chatpanel.0, size_chatpanel.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_chatpanel.bind_group.as_ref(),
                    queue,
                    clip_chatpanel.0,
                    clip_chatpanel.1,
                    clip_chatpanel.2,
                    clip_chatpanel.3,
                );
            }
        }

        // TextBox: scenario_description (font: vic_18) - no panel field mapping

        // EditBox: lobby_chat_edit (font: vic_18) - no panel field mapping

        // EditBox: largefonts_lobby_chat_edit (font: chat_largefont) - no panel field mapping

        // EditBox: speech_enabled_lobby_chat_edit (font: vic_18) - no panel field mapping

        // EditBox: speech_enabled_largefonts_lobby_chat_edit (font: chat_largefont) - no panel field mapping

        // Widget: speech_enabled_lobby_chat_button
        if let Some(sprite_speech_enabled_lobby_chat_button) =
            widget_cache.sprites.get("GFX_standard_button_105")
        {
            let size_speech_enabled_lobby_chat_button = sprite_speech_enabled_lobby_chat_button
                .target_size
                .unwrap_or(sprite_speech_enabled_lobby_chat_button.dimensions);
            let pos_speech_enabled_lobby_chat_button = position_from_anchor(
                window_anchor,
                (636, 125),
                Orientation::UpperLeft,
                size_speech_enabled_lobby_chat_button,
            );

            if let Some(border) = sprite_speech_enabled_lobby_chat_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_speech_enabled_lobby_chat_button.bind_group.as_ref(),
                    queue,
                    pos_speech_enabled_lobby_chat_button.0,
                    pos_speech_enabled_lobby_chat_button.1,
                    size_speech_enabled_lobby_chat_button.0 as f32,
                    size_speech_enabled_lobby_chat_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_speech_enabled_lobby_chat_button.dimensions.0,
                    sprite_speech_enabled_lobby_chat_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_speech_enabled_lobby_chat_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_speech_enabled_lobby_chat_button.dimensions.0
                    / sprite_speech_enabled_lobby_chat_button.num_frames;
                let clip_speech_enabled_lobby_chat_button = rect_to_clip_space(
                    (
                        pos_speech_enabled_lobby_chat_button.0,
                        pos_speech_enabled_lobby_chat_button.1,
                    ),
                    (
                        frame_w,
                        sprite_speech_enabled_lobby_chat_button.dimensions.1,
                    ),
                    screen_size,
                );
                let u_max = 1.0 / sprite_speech_enabled_lobby_chat_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_speech_enabled_lobby_chat_button.bind_group.as_ref(),
                    queue,
                    clip_speech_enabled_lobby_chat_button.0,
                    clip_speech_enabled_lobby_chat_button.1,
                    clip_speech_enabled_lobby_chat_button.2,
                    clip_speech_enabled_lobby_chat_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_speech_enabled_lobby_chat_button = rect_to_clip_space(
                    (
                        pos_speech_enabled_lobby_chat_button.0,
                        pos_speech_enabled_lobby_chat_button.1,
                    ),
                    (
                        size_speech_enabled_lobby_chat_button.0,
                        size_speech_enabled_lobby_chat_button.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_speech_enabled_lobby_chat_button.bind_group.as_ref(),
                    queue,
                    clip_speech_enabled_lobby_chat_button.0,
                    clip_speech_enabled_lobby_chat_button.1,
                    clip_speech_enabled_lobby_chat_button.2,
                    clip_speech_enabled_lobby_chat_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "speech_enabled_lobby_chat_button".to_string(),
                hit_box: HitBox {
                    x: pos_speech_enabled_lobby_chat_button.0,
                    y: pos_speech_enabled_lobby_chat_button.1,
                    width: size_speech_enabled_lobby_chat_button.0 as f32,
                    height: size_speech_enabled_lobby_chat_button.1 as f32,
                },
            });
        }

        // Widget: mic_button
        if let Some(sprite_mic_button) = widget_cache.sprites.get("GFX_mic_button_105") {
            let size_mic_button = sprite_mic_button
                .target_size
                .unwrap_or(sprite_mic_button.dimensions);
            let pos_mic_button = position_from_anchor(
                window_anchor,
                (526, 125),
                Orientation::UpperLeft,
                size_mic_button,
            );

            if let Some(border) = sprite_mic_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mic_button.bind_group.as_ref(),
                    queue,
                    pos_mic_button.0,
                    pos_mic_button.1,
                    size_mic_button.0 as f32,
                    size_mic_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mic_button.dimensions.0,
                    sprite_mic_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_mic_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_mic_button.dimensions.0 / sprite_mic_button.num_frames;
                let clip_mic_button = rect_to_clip_space(
                    (pos_mic_button.0, pos_mic_button.1),
                    (frame_w, sprite_mic_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mic_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mic_button.bind_group.as_ref(),
                    queue,
                    clip_mic_button.0,
                    clip_mic_button.1,
                    clip_mic_button.2,
                    clip_mic_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mic_button = rect_to_clip_space(
                    (pos_mic_button.0, pos_mic_button.1),
                    (size_mic_button.0, size_mic_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mic_button.bind_group.as_ref(),
                    queue,
                    clip_mic_button.0,
                    clip_mic_button.1,
                    clip_mic_button.2,
                    clip_mic_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mic_button".to_string(),
                hit_box: HitBox {
                    x: pos_mic_button.0,
                    y: pos_mic_button.1,
                    width: size_mic_button.0 as f32,
                    height: size_mic_button.1 as f32,
                },
            });
        }

        // Widget: lobby_chat_button
        if let Some(sprite_lobby_chat_button) = widget_cache.sprites.get("button_type_4") {
            let size_lobby_chat_button = sprite_lobby_chat_button
                .target_size
                .unwrap_or(sprite_lobby_chat_button.dimensions);
            let pos_lobby_chat_button = position_from_anchor(
                window_anchor,
                (526, 125),
                Orientation::UpperLeft,
                size_lobby_chat_button,
            );

            if let Some(border) = sprite_lobby_chat_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_lobby_chat_button.bind_group.as_ref(),
                    queue,
                    pos_lobby_chat_button.0,
                    pos_lobby_chat_button.1,
                    size_lobby_chat_button.0 as f32,
                    size_lobby_chat_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_lobby_chat_button.dimensions.0,
                    sprite_lobby_chat_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_lobby_chat_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_lobby_chat_button.dimensions.0 / sprite_lobby_chat_button.num_frames;
                let clip_lobby_chat_button = rect_to_clip_space(
                    (pos_lobby_chat_button.0, pos_lobby_chat_button.1),
                    (frame_w, sprite_lobby_chat_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_lobby_chat_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_lobby_chat_button.bind_group.as_ref(),
                    queue,
                    clip_lobby_chat_button.0,
                    clip_lobby_chat_button.1,
                    clip_lobby_chat_button.2,
                    clip_lobby_chat_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_lobby_chat_button = rect_to_clip_space(
                    (pos_lobby_chat_button.0, pos_lobby_chat_button.1),
                    (size_lobby_chat_button.0, size_lobby_chat_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_lobby_chat_button.bind_group.as_ref(),
                    queue,
                    clip_lobby_chat_button.0,
                    clip_lobby_chat_button.1,
                    clip_lobby_chat_button.2,
                    clip_lobby_chat_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "lobby_chat_button".to_string(),
                hit_box: HitBox {
                    x: pos_lobby_chat_button.0,
                    y: pos_lobby_chat_button.1,
                    width: size_lobby_chat_button.0 as f32,
                    height: size_lobby_chat_button.1 as f32,
                },
            });
        }

        // TODO: Widget chatlog (Listbox) not yet implemented

        // Widget: nation_designer_bottom_bg
        if let Some(sprite_nation_designer_bottom_bg) =
            widget_cache.sprites.get("GFX_nation_designer_bottom_bg")
        {
            let size_nation_designer_bottom_bg = sprite_nation_designer_bottom_bg
                .target_size
                .unwrap_or(sprite_nation_designer_bottom_bg.dimensions);
            let pos_nation_designer_bottom_bg = position_from_anchor(
                window_anchor,
                (180, 52),
                Orientation::UpperLeft,
                size_nation_designer_bottom_bg,
            );

            if let Some(border) = sprite_nation_designer_bottom_bg.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nation_designer_bottom_bg.bind_group.as_ref(),
                    queue,
                    pos_nation_designer_bottom_bg.0,
                    pos_nation_designer_bottom_bg.1,
                    size_nation_designer_bottom_bg.0 as f32,
                    size_nation_designer_bottom_bg.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nation_designer_bottom_bg.dimensions.0,
                    sprite_nation_designer_bottom_bg.dimensions.1,
                    screen_size,
                );
            } else if sprite_nation_designer_bottom_bg.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nation_designer_bottom_bg.dimensions.0
                    / sprite_nation_designer_bottom_bg.num_frames;
                let clip_nation_designer_bottom_bg = rect_to_clip_space(
                    (
                        pos_nation_designer_bottom_bg.0,
                        pos_nation_designer_bottom_bg.1,
                    ),
                    (frame_w, sprite_nation_designer_bottom_bg.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nation_designer_bottom_bg.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nation_designer_bottom_bg.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_bottom_bg.0,
                    clip_nation_designer_bottom_bg.1,
                    clip_nation_designer_bottom_bg.2,
                    clip_nation_designer_bottom_bg.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nation_designer_bottom_bg = rect_to_clip_space(
                    (
                        pos_nation_designer_bottom_bg.0,
                        pos_nation_designer_bottom_bg.1,
                    ),
                    (
                        size_nation_designer_bottom_bg.0,
                        size_nation_designer_bottom_bg.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nation_designer_bottom_bg.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_bottom_bg.0,
                    clip_nation_designer_bottom_bg.1,
                    clip_nation_designer_bottom_bg.2,
                    clip_nation_designer_bottom_bg.3,
                );
            }
        }

        // Widget: nation_designer_close_button
        if let Some(sprite_nation_designer_close_button) = widget_cache
            .sprites
            .get("GFX_nation_designer_cancel_button")
        {
            let size_nation_designer_close_button = sprite_nation_designer_close_button
                .target_size
                .unwrap_or(sprite_nation_designer_close_button.dimensions);
            let pos_nation_designer_close_button = position_from_anchor(
                window_anchor,
                (221, 113),
                Orientation::UpperLeft,
                size_nation_designer_close_button,
            );

            if let Some(border) = sprite_nation_designer_close_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nation_designer_close_button.bind_group.as_ref(),
                    queue,
                    pos_nation_designer_close_button.0,
                    pos_nation_designer_close_button.1,
                    size_nation_designer_close_button.0 as f32,
                    size_nation_designer_close_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nation_designer_close_button.dimensions.0,
                    sprite_nation_designer_close_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_nation_designer_close_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nation_designer_close_button.dimensions.0
                    / sprite_nation_designer_close_button.num_frames;
                let clip_nation_designer_close_button = rect_to_clip_space(
                    (
                        pos_nation_designer_close_button.0,
                        pos_nation_designer_close_button.1,
                    ),
                    (frame_w, sprite_nation_designer_close_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nation_designer_close_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nation_designer_close_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_close_button.0,
                    clip_nation_designer_close_button.1,
                    clip_nation_designer_close_button.2,
                    clip_nation_designer_close_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nation_designer_close_button = rect_to_clip_space(
                    (
                        pos_nation_designer_close_button.0,
                        pos_nation_designer_close_button.1,
                    ),
                    (
                        size_nation_designer_close_button.0,
                        size_nation_designer_close_button.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nation_designer_close_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_close_button.0,
                    clip_nation_designer_close_button.1,
                    clip_nation_designer_close_button.2,
                    clip_nation_designer_close_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "nation_designer_close_button".to_string(),
                hit_box: HitBox {
                    x: pos_nation_designer_close_button.0,
                    y: pos_nation_designer_close_button.1,
                    width: size_nation_designer_close_button.0 as f32,
                    height: size_nation_designer_close_button.1 as f32,
                },
            });
        }

        // Widget: nation_designer_accept_button
        if let Some(sprite_nation_designer_accept_button) =
            widget_cache.sprites.get("GFX_nation_designer_done_button")
        {
            let size_nation_designer_accept_button = sprite_nation_designer_accept_button
                .target_size
                .unwrap_or(sprite_nation_designer_accept_button.dimensions);
            let pos_nation_designer_accept_button = position_from_anchor(
                window_anchor,
                (378, 113),
                Orientation::UpperLeft,
                size_nation_designer_accept_button,
            );

            if let Some(border) = sprite_nation_designer_accept_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nation_designer_accept_button.bind_group.as_ref(),
                    queue,
                    pos_nation_designer_accept_button.0,
                    pos_nation_designer_accept_button.1,
                    size_nation_designer_accept_button.0 as f32,
                    size_nation_designer_accept_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nation_designer_accept_button.dimensions.0,
                    sprite_nation_designer_accept_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_nation_designer_accept_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nation_designer_accept_button.dimensions.0
                    / sprite_nation_designer_accept_button.num_frames;
                let clip_nation_designer_accept_button = rect_to_clip_space(
                    (
                        pos_nation_designer_accept_button.0,
                        pos_nation_designer_accept_button.1,
                    ),
                    (frame_w, sprite_nation_designer_accept_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nation_designer_accept_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nation_designer_accept_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_accept_button.0,
                    clip_nation_designer_accept_button.1,
                    clip_nation_designer_accept_button.2,
                    clip_nation_designer_accept_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nation_designer_accept_button = rect_to_clip_space(
                    (
                        pos_nation_designer_accept_button.0,
                        pos_nation_designer_accept_button.1,
                    ),
                    (
                        size_nation_designer_accept_button.0,
                        size_nation_designer_accept_button.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nation_designer_accept_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_accept_button.0,
                    clip_nation_designer_accept_button.1,
                    clip_nation_designer_accept_button.2,
                    clip_nation_designer_accept_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "nation_designer_accept_button".to_string(),
                hit_box: HitBox {
                    x: pos_nation_designer_accept_button.0,
                    y: pos_nation_designer_accept_button.1,
                    width: size_nation_designer_accept_button.0 as f32,
                    height: size_nation_designer_accept_button.1 as f32,
                },
            });
        }

        // Widget: nation_designer_save_button
        if let Some(sprite_nation_designer_save_button) =
            widget_cache.sprites.get("GFX_nation_designer_save_button")
        {
            let size_nation_designer_save_button = sprite_nation_designer_save_button
                .target_size
                .unwrap_or(sprite_nation_designer_save_button.dimensions);
            let pos_nation_designer_save_button = position_from_anchor(
                window_anchor,
                (259, 76),
                Orientation::UpperLeft,
                size_nation_designer_save_button,
            );

            if let Some(border) = sprite_nation_designer_save_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nation_designer_save_button.bind_group.as_ref(),
                    queue,
                    pos_nation_designer_save_button.0,
                    pos_nation_designer_save_button.1,
                    size_nation_designer_save_button.0 as f32,
                    size_nation_designer_save_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nation_designer_save_button.dimensions.0,
                    sprite_nation_designer_save_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_nation_designer_save_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nation_designer_save_button.dimensions.0
                    / sprite_nation_designer_save_button.num_frames;
                let clip_nation_designer_save_button = rect_to_clip_space(
                    (
                        pos_nation_designer_save_button.0,
                        pos_nation_designer_save_button.1,
                    ),
                    (frame_w, sprite_nation_designer_save_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nation_designer_save_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nation_designer_save_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_save_button.0,
                    clip_nation_designer_save_button.1,
                    clip_nation_designer_save_button.2,
                    clip_nation_designer_save_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nation_designer_save_button = rect_to_clip_space(
                    (
                        pos_nation_designer_save_button.0,
                        pos_nation_designer_save_button.1,
                    ),
                    (
                        size_nation_designer_save_button.0,
                        size_nation_designer_save_button.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nation_designer_save_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_save_button.0,
                    clip_nation_designer_save_button.1,
                    clip_nation_designer_save_button.2,
                    clip_nation_designer_save_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "nation_designer_save_button".to_string(),
                hit_box: HitBox {
                    x: pos_nation_designer_save_button.0,
                    y: pos_nation_designer_save_button.1,
                    width: size_nation_designer_save_button.0 as f32,
                    height: size_nation_designer_save_button.1 as f32,
                },
            });
        }

        // Widget: nation_designer_load_button
        if let Some(sprite_nation_designer_load_button) =
            widget_cache.sprites.get("GFX_nation_designer_load_button")
        {
            let size_nation_designer_load_button = sprite_nation_designer_load_button
                .target_size
                .unwrap_or(sprite_nation_designer_load_button.dimensions);
            let pos_nation_designer_load_button = position_from_anchor(
                window_anchor,
                (378, 76),
                Orientation::UpperLeft,
                size_nation_designer_load_button,
            );

            if let Some(border) = sprite_nation_designer_load_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nation_designer_load_button.bind_group.as_ref(),
                    queue,
                    pos_nation_designer_load_button.0,
                    pos_nation_designer_load_button.1,
                    size_nation_designer_load_button.0 as f32,
                    size_nation_designer_load_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nation_designer_load_button.dimensions.0,
                    sprite_nation_designer_load_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_nation_designer_load_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nation_designer_load_button.dimensions.0
                    / sprite_nation_designer_load_button.num_frames;
                let clip_nation_designer_load_button = rect_to_clip_space(
                    (
                        pos_nation_designer_load_button.0,
                        pos_nation_designer_load_button.1,
                    ),
                    (frame_w, sprite_nation_designer_load_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nation_designer_load_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nation_designer_load_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_load_button.0,
                    clip_nation_designer_load_button.1,
                    clip_nation_designer_load_button.2,
                    clip_nation_designer_load_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nation_designer_load_button = rect_to_clip_space(
                    (
                        pos_nation_designer_load_button.0,
                        pos_nation_designer_load_button.1,
                    ),
                    (
                        size_nation_designer_load_button.0,
                        size_nation_designer_load_button.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nation_designer_load_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_load_button.0,
                    clip_nation_designer_load_button.1,
                    clip_nation_designer_load_button.2,
                    clip_nation_designer_load_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "nation_designer_load_button".to_string(),
                hit_box: HitBox {
                    x: pos_nation_designer_load_button.0,
                    y: pos_nation_designer_load_button.1,
                    width: size_nation_designer_load_button.0 as f32,
                    height: size_nation_designer_load_button.1 as f32,
                },
            });
        }

        // TextBox: nation_designer_save_button_text (font: vic_18) - no panel field mapping

        // TextBox: nation_designer_load_button_text (font: vic_18) - no panel field mapping

        // TextBox: nation_designer_close_button_text (font: vic_22) - no panel field mapping

        // TextBox: nation_designer_accept_button_text (font: vic_22) - no panel field mapping

        // Widget: background
        if let Some(sprite_background) = widget_cache.sprites.get("GFX_rnw_loading_bg") {
            let size_background = sprite_background
                .target_size
                .unwrap_or(sprite_background.dimensions);
            let pos_background = position_from_anchor(
                window_anchor,
                (-146, -53),
                Orientation::UpperLeft,
                size_background,
            );

            if let Some(border) = sprite_background.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    pos_background.0,
                    pos_background.1,
                    size_background.0 as f32,
                    size_background.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_background.dimensions.0,
                    sprite_background.dimensions.1,
                    screen_size,
                );
            } else if sprite_background.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_background.dimensions.0 / sprite_background.num_frames;
                let clip_background = rect_to_clip_space(
                    (pos_background.0, pos_background.1),
                    (frame_w, sprite_background.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_background.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    clip_background.0,
                    clip_background.1,
                    clip_background.2,
                    clip_background.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_background = rect_to_clip_space(
                    (pos_background.0, pos_background.1),
                    (size_background.0, size_background.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_background.bind_group.as_ref(),
                    queue,
                    clip_background.0,
                    clip_background.1,
                    clip_background.2,
                    clip_background.3,
                );
            }
        }

        // TextBox: text (font: vic_18) - no panel field mapping

        // Widget: left_sidepanel
        if let Some(sprite_left_sidepanel) = widget_cache.sprites.get("GFX_lobby_left_bg") {
            let size_left_sidepanel = sprite_left_sidepanel
                .target_size
                .unwrap_or(sprite_left_sidepanel.dimensions);
            let pos_left_sidepanel = position_from_anchor(
                window_anchor,
                (4, 31),
                Orientation::UpperLeft,
                size_left_sidepanel,
            );

            if let Some(border) = sprite_left_sidepanel.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_left_sidepanel.bind_group.as_ref(),
                    queue,
                    pos_left_sidepanel.0,
                    pos_left_sidepanel.1,
                    size_left_sidepanel.0 as f32,
                    size_left_sidepanel.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_left_sidepanel.dimensions.0,
                    sprite_left_sidepanel.dimensions.1,
                    screen_size,
                );
            } else if sprite_left_sidepanel.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_left_sidepanel.dimensions.0 / sprite_left_sidepanel.num_frames;
                let clip_left_sidepanel = rect_to_clip_space(
                    (pos_left_sidepanel.0, pos_left_sidepanel.1),
                    (frame_w, sprite_left_sidepanel.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_left_sidepanel.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_left_sidepanel.bind_group.as_ref(),
                    queue,
                    clip_left_sidepanel.0,
                    clip_left_sidepanel.1,
                    clip_left_sidepanel.2,
                    clip_left_sidepanel.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_left_sidepanel = rect_to_clip_space(
                    (pos_left_sidepanel.0, pos_left_sidepanel.1),
                    (size_left_sidepanel.0, size_left_sidepanel.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_left_sidepanel.bind_group.as_ref(),
                    queue,
                    clip_left_sidepanel.0,
                    clip_left_sidepanel.1,
                    clip_left_sidepanel.2,
                    clip_left_sidepanel.3,
                );
            }
        }

        // TODO: Widget enabled_dlc_list_1 (Listbox) not yet implemented

        // TODO: Widget enabled_dlc_list_0 (Listbox) not yet implemented

        // TODO: Widget save_games_list (Listbox) not yet implemented

        // TextBox: show_unsafe_text (font: vic_18) - no panel field mapping

        // Widget: location_button
        if let Some(sprite_location_button) = widget_cache.sprites.get("button_type_7") {
            let size_location_button = sprite_location_button
                .target_size
                .unwrap_or(sprite_location_button.dimensions);
            let pos_location_button = position_from_anchor(
                window_anchor,
                (75, 475),
                Orientation::UpperLeft,
                size_location_button,
            );

            if let Some(border) = sprite_location_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_location_button.bind_group.as_ref(),
                    queue,
                    pos_location_button.0,
                    pos_location_button.1,
                    size_location_button.0 as f32,
                    size_location_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_location_button.dimensions.0,
                    sprite_location_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_location_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_location_button.dimensions.0 / sprite_location_button.num_frames;
                let clip_location_button = rect_to_clip_space(
                    (pos_location_button.0, pos_location_button.1),
                    (frame_w, sprite_location_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_location_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_location_button.bind_group.as_ref(),
                    queue,
                    clip_location_button.0,
                    clip_location_button.1,
                    clip_location_button.2,
                    clip_location_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_location_button = rect_to_clip_space(
                    (pos_location_button.0, pos_location_button.1),
                    (size_location_button.0, size_location_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_location_button.bind_group.as_ref(),
                    queue,
                    clip_location_button.0,
                    clip_location_button.1,
                    clip_location_button.2,
                    clip_location_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "location_button".to_string(),
                hit_box: HitBox {
                    x: pos_location_button.0,
                    y: pos_location_button.1,
                    width: size_location_button.0 as f32,
                    height: size_location_button.1 as f32,
                },
            });
        }

        // Widget: delete_all_button
        if let Some(sprite_delete_all_button) = widget_cache.sprites.get("button_type_7") {
            let size_delete_all_button = sprite_delete_all_button
                .target_size
                .unwrap_or(sprite_delete_all_button.dimensions);
            let pos_delete_all_button = position_from_anchor(
                window_anchor,
                (75, 510),
                Orientation::UpperLeft,
                size_delete_all_button,
            );

            if let Some(border) = sprite_delete_all_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_delete_all_button.bind_group.as_ref(),
                    queue,
                    pos_delete_all_button.0,
                    pos_delete_all_button.1,
                    size_delete_all_button.0 as f32,
                    size_delete_all_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_delete_all_button.dimensions.0,
                    sprite_delete_all_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_delete_all_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_delete_all_button.dimensions.0 / sprite_delete_all_button.num_frames;
                let clip_delete_all_button = rect_to_clip_space(
                    (pos_delete_all_button.0, pos_delete_all_button.1),
                    (frame_w, sprite_delete_all_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_delete_all_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_delete_all_button.bind_group.as_ref(),
                    queue,
                    clip_delete_all_button.0,
                    clip_delete_all_button.1,
                    clip_delete_all_button.2,
                    clip_delete_all_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_delete_all_button = rect_to_clip_space(
                    (pos_delete_all_button.0, pos_delete_all_button.1),
                    (size_delete_all_button.0, size_delete_all_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_delete_all_button.bind_group.as_ref(),
                    queue,
                    clip_delete_all_button.0,
                    clip_delete_all_button.1,
                    clip_delete_all_button.2,
                    clip_delete_all_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "delete_all_button".to_string(),
                hit_box: HitBox {
                    x: pos_delete_all_button.0,
                    y: pos_delete_all_button.1,
                    width: size_delete_all_button.0 as f32,
                    height: size_delete_all_button.1 as f32,
                },
            });
        }

        // TODO: Widget bookmarks_list (Listbox) not yet implemented

        // Widget: selectdate_bg
        if let Some(sprite_selectdate_bg) = widget_cache.sprites.get("GFX_lobby_date_bg") {
            let size_selectdate_bg = sprite_selectdate_bg
                .target_size
                .unwrap_or(sprite_selectdate_bg.dimensions);
            let pos_selectdate_bg = position_from_anchor(
                window_anchor,
                (10, 401),
                Orientation::UpperLeft,
                size_selectdate_bg,
            );

            if let Some(border) = sprite_selectdate_bg.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_selectdate_bg.bind_group.as_ref(),
                    queue,
                    pos_selectdate_bg.0,
                    pos_selectdate_bg.1,
                    size_selectdate_bg.0 as f32,
                    size_selectdate_bg.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_selectdate_bg.dimensions.0,
                    sprite_selectdate_bg.dimensions.1,
                    screen_size,
                );
            } else if sprite_selectdate_bg.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_selectdate_bg.dimensions.0 / sprite_selectdate_bg.num_frames;
                let clip_selectdate_bg = rect_to_clip_space(
                    (pos_selectdate_bg.0, pos_selectdate_bg.1),
                    (frame_w, sprite_selectdate_bg.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_selectdate_bg.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_selectdate_bg.bind_group.as_ref(),
                    queue,
                    clip_selectdate_bg.0,
                    clip_selectdate_bg.1,
                    clip_selectdate_bg.2,
                    clip_selectdate_bg.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_selectdate_bg = rect_to_clip_space(
                    (pos_selectdate_bg.0, pos_selectdate_bg.1),
                    (size_selectdate_bg.0, size_selectdate_bg.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_selectdate_bg.bind_group.as_ref(),
                    queue,
                    clip_selectdate_bg.0,
                    clip_selectdate_bg.1,
                    clip_selectdate_bg.2,
                    clip_selectdate_bg.3,
                );
            }
        }

        // TextBox: startdatelabel (font: vic_18) - no panel field mapping

        // EditBox: year (font: vic_22s) - no panel field mapping

        // TextBox: daymonth (font: vic_18) - no panel field mapping

        // Widget: year_up1
        if let Some(sprite_year_up1) = widget_cache.sprites.get("GFX_arrow_up_small") {
            let size_year_up1 = sprite_year_up1
                .target_size
                .unwrap_or(sprite_year_up1.dimensions);
            let pos_year_up1 = position_from_anchor(
                window_anchor,
                (121, 435),
                Orientation::UpperLeft,
                size_year_up1,
            );

            if let Some(border) = sprite_year_up1.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_year_up1.bind_group.as_ref(),
                    queue,
                    pos_year_up1.0,
                    pos_year_up1.1,
                    size_year_up1.0 as f32,
                    size_year_up1.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_year_up1.dimensions.0,
                    sprite_year_up1.dimensions.1,
                    screen_size,
                );
            } else if sprite_year_up1.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_year_up1.dimensions.0 / sprite_year_up1.num_frames;
                let clip_year_up1 = rect_to_clip_space(
                    (pos_year_up1.0, pos_year_up1.1),
                    (frame_w, sprite_year_up1.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_year_up1.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_year_up1.bind_group.as_ref(),
                    queue,
                    clip_year_up1.0,
                    clip_year_up1.1,
                    clip_year_up1.2,
                    clip_year_up1.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_year_up1 = rect_to_clip_space(
                    (pos_year_up1.0, pos_year_up1.1),
                    (size_year_up1.0, size_year_up1.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_year_up1.bind_group.as_ref(),
                    queue,
                    clip_year_up1.0,
                    clip_year_up1.1,
                    clip_year_up1.2,
                    clip_year_up1.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "year_up1".to_string(),
                hit_box: HitBox {
                    x: pos_year_up1.0,
                    y: pos_year_up1.1,
                    width: size_year_up1.0 as f32,
                    height: size_year_up1.1 as f32,
                },
            });
        }

        // Widget: year_down1
        if let Some(sprite_year_down1) = widget_cache.sprites.get("GFX_arrow_down_small") {
            let size_year_down1 = sprite_year_down1
                .target_size
                .unwrap_or(sprite_year_down1.dimensions);
            let pos_year_down1 = position_from_anchor(
                window_anchor,
                (121, 481),
                Orientation::UpperLeft,
                size_year_down1,
            );

            if let Some(border) = sprite_year_down1.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_year_down1.bind_group.as_ref(),
                    queue,
                    pos_year_down1.0,
                    pos_year_down1.1,
                    size_year_down1.0 as f32,
                    size_year_down1.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_year_down1.dimensions.0,
                    sprite_year_down1.dimensions.1,
                    screen_size,
                );
            } else if sprite_year_down1.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_year_down1.dimensions.0 / sprite_year_down1.num_frames;
                let clip_year_down1 = rect_to_clip_space(
                    (pos_year_down1.0, pos_year_down1.1),
                    (frame_w, sprite_year_down1.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_year_down1.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_year_down1.bind_group.as_ref(),
                    queue,
                    clip_year_down1.0,
                    clip_year_down1.1,
                    clip_year_down1.2,
                    clip_year_down1.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_year_down1 = rect_to_clip_space(
                    (pos_year_down1.0, pos_year_down1.1),
                    (size_year_down1.0, size_year_down1.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_year_down1.bind_group.as_ref(),
                    queue,
                    clip_year_down1.0,
                    clip_year_down1.1,
                    clip_year_down1.2,
                    clip_year_down1.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "year_down1".to_string(),
                hit_box: HitBox {
                    x: pos_year_down1.0,
                    y: pos_year_down1.1,
                    width: size_year_down1.0 as f32,
                    height: size_year_down1.1 as f32,
                },
            });
        }

        // Widget: year_up2
        if let Some(sprite_year_up2) = widget_cache.sprites.get("GFX_arrow_up_small") {
            let size_year_up2 = sprite_year_up2
                .target_size
                .unwrap_or(sprite_year_up2.dimensions);
            let pos_year_up2 = position_from_anchor(
                window_anchor,
                (141, 435),
                Orientation::UpperLeft,
                size_year_up2,
            );

            if let Some(border) = sprite_year_up2.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_year_up2.bind_group.as_ref(),
                    queue,
                    pos_year_up2.0,
                    pos_year_up2.1,
                    size_year_up2.0 as f32,
                    size_year_up2.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_year_up2.dimensions.0,
                    sprite_year_up2.dimensions.1,
                    screen_size,
                );
            } else if sprite_year_up2.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_year_up2.dimensions.0 / sprite_year_up2.num_frames;
                let clip_year_up2 = rect_to_clip_space(
                    (pos_year_up2.0, pos_year_up2.1),
                    (frame_w, sprite_year_up2.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_year_up2.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_year_up2.bind_group.as_ref(),
                    queue,
                    clip_year_up2.0,
                    clip_year_up2.1,
                    clip_year_up2.2,
                    clip_year_up2.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_year_up2 = rect_to_clip_space(
                    (pos_year_up2.0, pos_year_up2.1),
                    (size_year_up2.0, size_year_up2.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_year_up2.bind_group.as_ref(),
                    queue,
                    clip_year_up2.0,
                    clip_year_up2.1,
                    clip_year_up2.2,
                    clip_year_up2.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "year_up2".to_string(),
                hit_box: HitBox {
                    x: pos_year_up2.0,
                    y: pos_year_up2.1,
                    width: size_year_up2.0 as f32,
                    height: size_year_up2.1 as f32,
                },
            });
        }

        // Widget: year_down2
        if let Some(sprite_year_down2) = widget_cache.sprites.get("GFX_arrow_down_small") {
            let size_year_down2 = sprite_year_down2
                .target_size
                .unwrap_or(sprite_year_down2.dimensions);
            let pos_year_down2 = position_from_anchor(
                window_anchor,
                (141, 481),
                Orientation::UpperLeft,
                size_year_down2,
            );

            if let Some(border) = sprite_year_down2.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_year_down2.bind_group.as_ref(),
                    queue,
                    pos_year_down2.0,
                    pos_year_down2.1,
                    size_year_down2.0 as f32,
                    size_year_down2.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_year_down2.dimensions.0,
                    sprite_year_down2.dimensions.1,
                    screen_size,
                );
            } else if sprite_year_down2.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_year_down2.dimensions.0 / sprite_year_down2.num_frames;
                let clip_year_down2 = rect_to_clip_space(
                    (pos_year_down2.0, pos_year_down2.1),
                    (frame_w, sprite_year_down2.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_year_down2.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_year_down2.bind_group.as_ref(),
                    queue,
                    clip_year_down2.0,
                    clip_year_down2.1,
                    clip_year_down2.2,
                    clip_year_down2.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_year_down2 = rect_to_clip_space(
                    (pos_year_down2.0, pos_year_down2.1),
                    (size_year_down2.0, size_year_down2.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_year_down2.bind_group.as_ref(),
                    queue,
                    clip_year_down2.0,
                    clip_year_down2.1,
                    clip_year_down2.2,
                    clip_year_down2.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "year_down2".to_string(),
                hit_box: HitBox {
                    x: pos_year_down2.0,
                    y: pos_year_down2.1,
                    width: size_year_down2.0 as f32,
                    height: size_year_down2.1 as f32,
                },
            });
        }

        // Widget: year_up3
        if let Some(sprite_year_up3) = widget_cache.sprites.get("GFX_arrow_up_small") {
            let size_year_up3 = sprite_year_up3
                .target_size
                .unwrap_or(sprite_year_up3.dimensions);
            let pos_year_up3 = position_from_anchor(
                window_anchor,
                (161, 435),
                Orientation::UpperLeft,
                size_year_up3,
            );

            if let Some(border) = sprite_year_up3.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_year_up3.bind_group.as_ref(),
                    queue,
                    pos_year_up3.0,
                    pos_year_up3.1,
                    size_year_up3.0 as f32,
                    size_year_up3.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_year_up3.dimensions.0,
                    sprite_year_up3.dimensions.1,
                    screen_size,
                );
            } else if sprite_year_up3.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_year_up3.dimensions.0 / sprite_year_up3.num_frames;
                let clip_year_up3 = rect_to_clip_space(
                    (pos_year_up3.0, pos_year_up3.1),
                    (frame_w, sprite_year_up3.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_year_up3.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_year_up3.bind_group.as_ref(),
                    queue,
                    clip_year_up3.0,
                    clip_year_up3.1,
                    clip_year_up3.2,
                    clip_year_up3.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_year_up3 = rect_to_clip_space(
                    (pos_year_up3.0, pos_year_up3.1),
                    (size_year_up3.0, size_year_up3.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_year_up3.bind_group.as_ref(),
                    queue,
                    clip_year_up3.0,
                    clip_year_up3.1,
                    clip_year_up3.2,
                    clip_year_up3.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "year_up3".to_string(),
                hit_box: HitBox {
                    x: pos_year_up3.0,
                    y: pos_year_up3.1,
                    width: size_year_up3.0 as f32,
                    height: size_year_up3.1 as f32,
                },
            });
        }

        // Widget: year_down3
        if let Some(sprite_year_down3) = widget_cache.sprites.get("GFX_arrow_down_small") {
            let size_year_down3 = sprite_year_down3
                .target_size
                .unwrap_or(sprite_year_down3.dimensions);
            let pos_year_down3 = position_from_anchor(
                window_anchor,
                (161, 481),
                Orientation::UpperLeft,
                size_year_down3,
            );

            if let Some(border) = sprite_year_down3.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_year_down3.bind_group.as_ref(),
                    queue,
                    pos_year_down3.0,
                    pos_year_down3.1,
                    size_year_down3.0 as f32,
                    size_year_down3.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_year_down3.dimensions.0,
                    sprite_year_down3.dimensions.1,
                    screen_size,
                );
            } else if sprite_year_down3.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_year_down3.dimensions.0 / sprite_year_down3.num_frames;
                let clip_year_down3 = rect_to_clip_space(
                    (pos_year_down3.0, pos_year_down3.1),
                    (frame_w, sprite_year_down3.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_year_down3.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_year_down3.bind_group.as_ref(),
                    queue,
                    clip_year_down3.0,
                    clip_year_down3.1,
                    clip_year_down3.2,
                    clip_year_down3.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_year_down3 = rect_to_clip_space(
                    (pos_year_down3.0, pos_year_down3.1),
                    (size_year_down3.0, size_year_down3.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_year_down3.bind_group.as_ref(),
                    queue,
                    clip_year_down3.0,
                    clip_year_down3.1,
                    clip_year_down3.2,
                    clip_year_down3.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "year_down3".to_string(),
                hit_box: HitBox {
                    x: pos_year_down3.0,
                    y: pos_year_down3.1,
                    width: size_year_down3.0 as f32,
                    height: size_year_down3.1 as f32,
                },
            });
        }

        // Widget: month_down
        if let Some(sprite_month_down) = widget_cache.sprites.get("GFX_arrow_left_big") {
            let size_month_down = sprite_month_down
                .target_size
                .unwrap_or(sprite_month_down.dimensions);
            let pos_month_down = position_from_anchor(
                window_anchor,
                (30, 510),
                Orientation::UpperLeft,
                size_month_down,
            );

            if let Some(border) = sprite_month_down.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_month_down.bind_group.as_ref(),
                    queue,
                    pos_month_down.0,
                    pos_month_down.1,
                    size_month_down.0 as f32,
                    size_month_down.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_month_down.dimensions.0,
                    sprite_month_down.dimensions.1,
                    screen_size,
                );
            } else if sprite_month_down.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_month_down.dimensions.0 / sprite_month_down.num_frames;
                let clip_month_down = rect_to_clip_space(
                    (pos_month_down.0, pos_month_down.1),
                    (frame_w, sprite_month_down.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_month_down.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_month_down.bind_group.as_ref(),
                    queue,
                    clip_month_down.0,
                    clip_month_down.1,
                    clip_month_down.2,
                    clip_month_down.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_month_down = rect_to_clip_space(
                    (pos_month_down.0, pos_month_down.1),
                    (size_month_down.0, size_month_down.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_month_down.bind_group.as_ref(),
                    queue,
                    clip_month_down.0,
                    clip_month_down.1,
                    clip_month_down.2,
                    clip_month_down.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "month_down".to_string(),
                hit_box: HitBox {
                    x: pos_month_down.0,
                    y: pos_month_down.1,
                    width: size_month_down.0 as f32,
                    height: size_month_down.1 as f32,
                },
            });
        }

        // Widget: day_down
        if let Some(sprite_day_down) = widget_cache.sprites.get("GFX_arrow_left_small") {
            let size_day_down = sprite_day_down
                .target_size
                .unwrap_or(sprite_day_down.dimensions);
            let pos_day_down = position_from_anchor(
                window_anchor,
                (52, 510),
                Orientation::UpperLeft,
                size_day_down,
            );

            if let Some(border) = sprite_day_down.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_day_down.bind_group.as_ref(),
                    queue,
                    pos_day_down.0,
                    pos_day_down.1,
                    size_day_down.0 as f32,
                    size_day_down.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_day_down.dimensions.0,
                    sprite_day_down.dimensions.1,
                    screen_size,
                );
            } else if sprite_day_down.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_day_down.dimensions.0 / sprite_day_down.num_frames;
                let clip_day_down = rect_to_clip_space(
                    (pos_day_down.0, pos_day_down.1),
                    (frame_w, sprite_day_down.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_day_down.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_day_down.bind_group.as_ref(),
                    queue,
                    clip_day_down.0,
                    clip_day_down.1,
                    clip_day_down.2,
                    clip_day_down.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_day_down = rect_to_clip_space(
                    (pos_day_down.0, pos_day_down.1),
                    (size_day_down.0, size_day_down.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_day_down.bind_group.as_ref(),
                    queue,
                    clip_day_down.0,
                    clip_day_down.1,
                    clip_day_down.2,
                    clip_day_down.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "day_down".to_string(),
                hit_box: HitBox {
                    x: pos_day_down.0,
                    y: pos_day_down.1,
                    width: size_day_down.0 as f32,
                    height: size_day_down.1 as f32,
                },
            });
        }

        // Widget: month_up
        if let Some(sprite_month_up) = widget_cache.sprites.get("GFX_arrow_right_big") {
            let size_month_up = sprite_month_up
                .target_size
                .unwrap_or(sprite_month_up.dimensions);
            let pos_month_up = position_from_anchor(
                window_anchor,
                (247, 510),
                Orientation::UpperLeft,
                size_month_up,
            );

            if let Some(border) = sprite_month_up.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_month_up.bind_group.as_ref(),
                    queue,
                    pos_month_up.0,
                    pos_month_up.1,
                    size_month_up.0 as f32,
                    size_month_up.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_month_up.dimensions.0,
                    sprite_month_up.dimensions.1,
                    screen_size,
                );
            } else if sprite_month_up.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_month_up.dimensions.0 / sprite_month_up.num_frames;
                let clip_month_up = rect_to_clip_space(
                    (pos_month_up.0, pos_month_up.1),
                    (frame_w, sprite_month_up.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_month_up.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_month_up.bind_group.as_ref(),
                    queue,
                    clip_month_up.0,
                    clip_month_up.1,
                    clip_month_up.2,
                    clip_month_up.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_month_up = rect_to_clip_space(
                    (pos_month_up.0, pos_month_up.1),
                    (size_month_up.0, size_month_up.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_month_up.bind_group.as_ref(),
                    queue,
                    clip_month_up.0,
                    clip_month_up.1,
                    clip_month_up.2,
                    clip_month_up.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "month_up".to_string(),
                hit_box: HitBox {
                    x: pos_month_up.0,
                    y: pos_month_up.1,
                    width: size_month_up.0 as f32,
                    height: size_month_up.1 as f32,
                },
            });
        }

        // Widget: day_up
        if let Some(sprite_day_up) = widget_cache.sprites.get("GFX_arrow_right_small") {
            let size_day_up = sprite_day_up
                .target_size
                .unwrap_or(sprite_day_up.dimensions);
            let pos_day_up = position_from_anchor(
                window_anchor,
                (225, 510),
                Orientation::UpperLeft,
                size_day_up,
            );

            if let Some(border) = sprite_day_up.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_day_up.bind_group.as_ref(),
                    queue,
                    pos_day_up.0,
                    pos_day_up.1,
                    size_day_up.0 as f32,
                    size_day_up.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_day_up.dimensions.0,
                    sprite_day_up.dimensions.1,
                    screen_size,
                );
            } else if sprite_day_up.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_day_up.dimensions.0 / sprite_day_up.num_frames;
                let clip_day_up = rect_to_clip_space(
                    (pos_day_up.0, pos_day_up.1),
                    (frame_w, sprite_day_up.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_day_up.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_day_up.bind_group.as_ref(),
                    queue,
                    clip_day_up.0,
                    clip_day_up.1,
                    clip_day_up.2,
                    clip_day_up.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_day_up = rect_to_clip_space(
                    (pos_day_up.0, pos_day_up.1),
                    (size_day_up.0, size_day_up.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_day_up.bind_group.as_ref(),
                    queue,
                    clip_day_up.0,
                    clip_day_up.1,
                    clip_day_up.2,
                    clip_day_up.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "day_up".to_string(),
                hit_box: HitBox {
                    x: pos_day_up.0,
                    y: pos_day_up.1,
                    width: size_day_up.0 as f32,
                    height: size_day_up.1 as f32,
                },
            });
        }

        // Widget: open_music_player
        if let Some(sprite_open_music_player) = widget_cache.sprites.get("button_type_4") {
            let size_open_music_player = sprite_open_music_player
                .target_size
                .unwrap_or(sprite_open_music_player.dimensions);
            let pos_open_music_player = resolve_position(
                (38, 66),
                Orientation::LowerLeft,
                size_open_music_player,
                screen_size,
            );

            if let Some(border) = sprite_open_music_player.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_open_music_player.bind_group.as_ref(),
                    queue,
                    pos_open_music_player.0,
                    pos_open_music_player.1,
                    size_open_music_player.0 as f32,
                    size_open_music_player.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_open_music_player.dimensions.0,
                    sprite_open_music_player.dimensions.1,
                    screen_size,
                );
            } else if sprite_open_music_player.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_open_music_player.dimensions.0 / sprite_open_music_player.num_frames;
                let clip_open_music_player = rect_to_clip_space(
                    (pos_open_music_player.0, pos_open_music_player.1),
                    (frame_w, sprite_open_music_player.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_open_music_player.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_open_music_player.bind_group.as_ref(),
                    queue,
                    clip_open_music_player.0,
                    clip_open_music_player.1,
                    clip_open_music_player.2,
                    clip_open_music_player.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_open_music_player = rect_to_clip_space(
                    (pos_open_music_player.0, pos_open_music_player.1),
                    (size_open_music_player.0, size_open_music_player.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_open_music_player.bind_group.as_ref(),
                    queue,
                    clip_open_music_player.0,
                    clip_open_music_player.1,
                    clip_open_music_player.2,
                    clip_open_music_player.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "open_music_player".to_string(),
                hit_box: HitBox {
                    x: pos_open_music_player.0,
                    y: pos_open_music_player.1,
                    width: size_open_music_player.0 as f32,
                    height: size_open_music_player.1 as f32,
                },
            });
        }

        // TextBox: observe_mode_title (font: vic_22) - no panel field mapping

        // Widget: observe_mode_button
        if let Some(sprite_observe_mode_button) = widget_cache.sprites.get("GFX_checkbox_gold_32") {
            let size_observe_mode_button = sprite_observe_mode_button
                .target_size
                .unwrap_or(sprite_observe_mode_button.dimensions);
            let pos_observe_mode_button = resolve_position(
                (20, -152),
                Orientation::LowerLeft,
                size_observe_mode_button,
                screen_size,
            );

            if let Some(border) = sprite_observe_mode_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_observe_mode_button.bind_group.as_ref(),
                    queue,
                    pos_observe_mode_button.0,
                    pos_observe_mode_button.1,
                    size_observe_mode_button.0 as f32,
                    size_observe_mode_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_observe_mode_button.dimensions.0,
                    sprite_observe_mode_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_observe_mode_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_observe_mode_button.dimensions.0 / sprite_observe_mode_button.num_frames;
                let clip_observe_mode_button = rect_to_clip_space(
                    (pos_observe_mode_button.0, pos_observe_mode_button.1),
                    (frame_w, sprite_observe_mode_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_observe_mode_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_observe_mode_button.bind_group.as_ref(),
                    queue,
                    clip_observe_mode_button.0,
                    clip_observe_mode_button.1,
                    clip_observe_mode_button.2,
                    clip_observe_mode_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_observe_mode_button = rect_to_clip_space(
                    (pos_observe_mode_button.0, pos_observe_mode_button.1),
                    (size_observe_mode_button.0, size_observe_mode_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_observe_mode_button.bind_group.as_ref(),
                    queue,
                    clip_observe_mode_button.0,
                    clip_observe_mode_button.1,
                    clip_observe_mode_button.2,
                    clip_observe_mode_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "observe_mode_button".to_string(),
                hit_box: HitBox {
                    x: pos_observe_mode_button.0,
                    y: pos_observe_mode_button.1,
                    width: size_observe_mode_button.0 as f32,
                    height: size_observe_mode_button.1 as f32,
                },
            });
        }

        // Widget: gameoptions_button
        if let Some(sprite_gameoptions_button) = widget_cache.sprites.get("button_type_4") {
            let size_gameoptions_button = sprite_gameoptions_button
                .target_size
                .unwrap_or(sprite_gameoptions_button.dimensions);
            let pos_gameoptions_button = resolve_position(
                (18, -104),
                Orientation::LowerLeft,
                size_gameoptions_button,
                screen_size,
            );

            if let Some(border) = sprite_gameoptions_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_gameoptions_button.bind_group.as_ref(),
                    queue,
                    pos_gameoptions_button.0,
                    pos_gameoptions_button.1,
                    size_gameoptions_button.0 as f32,
                    size_gameoptions_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_gameoptions_button.dimensions.0,
                    sprite_gameoptions_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_gameoptions_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_gameoptions_button.dimensions.0 / sprite_gameoptions_button.num_frames;
                let clip_gameoptions_button = rect_to_clip_space(
                    (pos_gameoptions_button.0, pos_gameoptions_button.1),
                    (frame_w, sprite_gameoptions_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_gameoptions_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_gameoptions_button.bind_group.as_ref(),
                    queue,
                    clip_gameoptions_button.0,
                    clip_gameoptions_button.1,
                    clip_gameoptions_button.2,
                    clip_gameoptions_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_gameoptions_button = rect_to_clip_space(
                    (pos_gameoptions_button.0, pos_gameoptions_button.1),
                    (size_gameoptions_button.0, size_gameoptions_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_gameoptions_button.bind_group.as_ref(),
                    queue,
                    clip_gameoptions_button.0,
                    clip_gameoptions_button.1,
                    clip_gameoptions_button.2,
                    clip_gameoptions_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "gameoptions_button".to_string(),
                hit_box: HitBox {
                    x: pos_gameoptions_button.0,
                    y: pos_gameoptions_button.1,
                    width: size_gameoptions_button.0 as f32,
                    height: size_gameoptions_button.1 as f32,
                },
            });
        }

        // Widget: find_button
        if let Some(sprite_find_button) = widget_cache.sprites.get("button_type_4") {
            let size_find_button = sprite_find_button
                .target_size
                .unwrap_or(sprite_find_button.dimensions);
            let pos_find_button = resolve_position(
                (18, -74),
                Orientation::LowerLeft,
                size_find_button,
                screen_size,
            );

            if let Some(border) = sprite_find_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_find_button.bind_group.as_ref(),
                    queue,
                    pos_find_button.0,
                    pos_find_button.1,
                    size_find_button.0 as f32,
                    size_find_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_find_button.dimensions.0,
                    sprite_find_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_find_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_find_button.dimensions.0 / sprite_find_button.num_frames;
                let clip_find_button = rect_to_clip_space(
                    (pos_find_button.0, pos_find_button.1),
                    (frame_w, sprite_find_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_find_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_find_button.bind_group.as_ref(),
                    queue,
                    clip_find_button.0,
                    clip_find_button.1,
                    clip_find_button.2,
                    clip_find_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_find_button = rect_to_clip_space(
                    (pos_find_button.0, pos_find_button.1),
                    (size_find_button.0, size_find_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_find_button.bind_group.as_ref(),
                    queue,
                    clip_find_button.0,
                    clip_find_button.1,
                    clip_find_button.2,
                    clip_find_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "find_button".to_string(),
                hit_box: HitBox {
                    x: pos_find_button.0,
                    y: pos_find_button.1,
                    width: size_find_button.0 as f32,
                    height: size_find_button.1 as f32,
                },
            });
        }

        // Widget: option_button
        if let Some(sprite_option_button) = widget_cache.sprites.get("button_type_4") {
            let size_option_button = sprite_option_button
                .target_size
                .unwrap_or(sprite_option_button.dimensions);
            let pos_option_button = resolve_position(
                (18, -44),
                Orientation::LowerLeft,
                size_option_button,
                screen_size,
            );

            if let Some(border) = sprite_option_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_option_button.bind_group.as_ref(),
                    queue,
                    pos_option_button.0,
                    pos_option_button.1,
                    size_option_button.0 as f32,
                    size_option_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_option_button.dimensions.0,
                    sprite_option_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_option_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_option_button.dimensions.0 / sprite_option_button.num_frames;
                let clip_option_button = rect_to_clip_space(
                    (pos_option_button.0, pos_option_button.1),
                    (frame_w, sprite_option_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_option_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_option_button.bind_group.as_ref(),
                    queue,
                    clip_option_button.0,
                    clip_option_button.1,
                    clip_option_button.2,
                    clip_option_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_option_button = rect_to_clip_space(
                    (pos_option_button.0, pos_option_button.1),
                    (size_option_button.0, size_option_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_option_button.bind_group.as_ref(),
                    queue,
                    clip_option_button.0,
                    clip_option_button.1,
                    clip_option_button.2,
                    clip_option_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "option_button".to_string(),
                hit_box: HitBox {
                    x: pos_option_button.0,
                    y: pos_option_button.1,
                    width: size_option_button.0 as f32,
                    height: size_option_button.1 as f32,
                },
            });
        }

        // Widget: back_button
        if let Some(sprite_back_button) = widget_cache.sprites.get("button_type_4") {
            let size_back_button = sprite_back_button
                .target_size
                .unwrap_or(sprite_back_button.dimensions);
            let pos_back_button = resolve_position(
                (18, -12),
                Orientation::LowerLeft,
                size_back_button,
                screen_size,
            );

            if let Some(border) = sprite_back_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    pos_back_button.0,
                    pos_back_button.1,
                    size_back_button.0 as f32,
                    size_back_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_back_button.dimensions.0,
                    sprite_back_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_back_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_back_button.dimensions.0 / sprite_back_button.num_frames;
                let clip_back_button = rect_to_clip_space(
                    (pos_back_button.0, pos_back_button.1),
                    (frame_w, sprite_back_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_back_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    clip_back_button.0,
                    clip_back_button.1,
                    clip_back_button.2,
                    clip_back_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_back_button = rect_to_clip_space(
                    (pos_back_button.0, pos_back_button.1),
                    (size_back_button.0, size_back_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_back_button.bind_group.as_ref(),
                    queue,
                    clip_back_button.0,
                    clip_back_button.1,
                    clip_back_button.2,
                    clip_back_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "back_button".to_string(),
                hit_box: HitBox {
                    x: pos_back_button.0,
                    y: pos_back_button.1,
                    width: size_back_button.0 as f32,
                    height: size_back_button.1 as f32,
                },
            });
        }

        // Widget: frontend_banner2
        if let Some(sprite_frontend_banner2) = widget_cache.sprites.get("GFX_lobby_top_bg") {
            let size_frontend_banner2 = sprite_frontend_banner2
                .target_size
                .unwrap_or(sprite_frontend_banner2.dimensions);
            let pos_frontend_banner2 = position_from_anchor(
                window_anchor,
                (-235, 6),
                Orientation::UpperLeft,
                size_frontend_banner2,
            );

            if let Some(border) = sprite_frontend_banner2.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_frontend_banner2.bind_group.as_ref(),
                    queue,
                    pos_frontend_banner2.0,
                    pos_frontend_banner2.1,
                    size_frontend_banner2.0 as f32,
                    size_frontend_banner2.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_frontend_banner2.dimensions.0,
                    sprite_frontend_banner2.dimensions.1,
                    screen_size,
                );
            } else if sprite_frontend_banner2.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_frontend_banner2.dimensions.0 / sprite_frontend_banner2.num_frames;
                let clip_frontend_banner2 = rect_to_clip_space(
                    (pos_frontend_banner2.0, pos_frontend_banner2.1),
                    (frame_w, sprite_frontend_banner2.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_frontend_banner2.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_frontend_banner2.bind_group.as_ref(),
                    queue,
                    clip_frontend_banner2.0,
                    clip_frontend_banner2.1,
                    clip_frontend_banner2.2,
                    clip_frontend_banner2.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_frontend_banner2 = rect_to_clip_space(
                    (pos_frontend_banner2.0, pos_frontend_banner2.1),
                    (size_frontend_banner2.0, size_frontend_banner2.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_frontend_banner2.bind_group.as_ref(),
                    queue,
                    clip_frontend_banner2.0,
                    clip_frontend_banner2.1,
                    clip_frontend_banner2.2,
                    clip_frontend_banner2.3,
                );
            }
        }

        // Widget: mapmode_terrain
        if let Some(sprite_mapmode_terrain) = widget_cache.sprites.get("GFX_mapmode_terrain") {
            let size_mapmode_terrain = sprite_mapmode_terrain
                .target_size
                .unwrap_or(sprite_mapmode_terrain.dimensions);
            let pos_mapmode_terrain = position_from_anchor(
                window_anchor,
                (-194, 51),
                Orientation::UpperLeft,
                size_mapmode_terrain,
            );

            if let Some(border) = sprite_mapmode_terrain.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_terrain.bind_group.as_ref(),
                    queue,
                    pos_mapmode_terrain.0,
                    pos_mapmode_terrain.1,
                    size_mapmode_terrain.0 as f32,
                    size_mapmode_terrain.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_terrain.dimensions.0,
                    sprite_mapmode_terrain.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_terrain.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_terrain.dimensions.0 / sprite_mapmode_terrain.num_frames;
                let clip_mapmode_terrain = rect_to_clip_space(
                    (pos_mapmode_terrain.0, pos_mapmode_terrain.1),
                    (frame_w, sprite_mapmode_terrain.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_terrain.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_terrain.bind_group.as_ref(),
                    queue,
                    clip_mapmode_terrain.0,
                    clip_mapmode_terrain.1,
                    clip_mapmode_terrain.2,
                    clip_mapmode_terrain.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_terrain = rect_to_clip_space(
                    (pos_mapmode_terrain.0, pos_mapmode_terrain.1),
                    (size_mapmode_terrain.0, size_mapmode_terrain.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_terrain.bind_group.as_ref(),
                    queue,
                    clip_mapmode_terrain.0,
                    clip_mapmode_terrain.1,
                    clip_mapmode_terrain.2,
                    clip_mapmode_terrain.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_terrain".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_terrain.0,
                    y: pos_mapmode_terrain.1,
                    width: size_mapmode_terrain.0 as f32,
                    height: size_mapmode_terrain.1 as f32,
                },
            });
        }

        // Widget: mapmode_political
        if let Some(sprite_mapmode_political) = widget_cache.sprites.get("GFX_mapmode_political") {
            let size_mapmode_political = sprite_mapmode_political
                .target_size
                .unwrap_or(sprite_mapmode_political.dimensions);
            let pos_mapmode_political = position_from_anchor(
                window_anchor,
                (-156, 51),
                Orientation::UpperLeft,
                size_mapmode_political,
            );

            if let Some(border) = sprite_mapmode_political.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_political.bind_group.as_ref(),
                    queue,
                    pos_mapmode_political.0,
                    pos_mapmode_political.1,
                    size_mapmode_political.0 as f32,
                    size_mapmode_political.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_political.dimensions.0,
                    sprite_mapmode_political.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_political.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_political.dimensions.0 / sprite_mapmode_political.num_frames;
                let clip_mapmode_political = rect_to_clip_space(
                    (pos_mapmode_political.0, pos_mapmode_political.1),
                    (frame_w, sprite_mapmode_political.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_political.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_political.bind_group.as_ref(),
                    queue,
                    clip_mapmode_political.0,
                    clip_mapmode_political.1,
                    clip_mapmode_political.2,
                    clip_mapmode_political.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_political = rect_to_clip_space(
                    (pos_mapmode_political.0, pos_mapmode_political.1),
                    (size_mapmode_political.0, size_mapmode_political.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_political.bind_group.as_ref(),
                    queue,
                    clip_mapmode_political.0,
                    clip_mapmode_political.1,
                    clip_mapmode_political.2,
                    clip_mapmode_political.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_political".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_political.0,
                    y: pos_mapmode_political.1,
                    width: size_mapmode_political.0 as f32,
                    height: size_mapmode_political.1 as f32,
                },
            });
        }

        // Widget: mapmode_trade
        if let Some(sprite_mapmode_trade) = widget_cache.sprites.get("GFX_mapmode_trade") {
            let size_mapmode_trade = sprite_mapmode_trade
                .target_size
                .unwrap_or(sprite_mapmode_trade.dimensions);
            let pos_mapmode_trade = position_from_anchor(
                window_anchor,
                (-118, 51),
                Orientation::UpperLeft,
                size_mapmode_trade,
            );

            if let Some(border) = sprite_mapmode_trade.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_trade.bind_group.as_ref(),
                    queue,
                    pos_mapmode_trade.0,
                    pos_mapmode_trade.1,
                    size_mapmode_trade.0 as f32,
                    size_mapmode_trade.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_trade.dimensions.0,
                    sprite_mapmode_trade.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_trade.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_mapmode_trade.dimensions.0 / sprite_mapmode_trade.num_frames;
                let clip_mapmode_trade = rect_to_clip_space(
                    (pos_mapmode_trade.0, pos_mapmode_trade.1),
                    (frame_w, sprite_mapmode_trade.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_trade.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_trade.bind_group.as_ref(),
                    queue,
                    clip_mapmode_trade.0,
                    clip_mapmode_trade.1,
                    clip_mapmode_trade.2,
                    clip_mapmode_trade.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_trade = rect_to_clip_space(
                    (pos_mapmode_trade.0, pos_mapmode_trade.1),
                    (size_mapmode_trade.0, size_mapmode_trade.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_trade.bind_group.as_ref(),
                    queue,
                    clip_mapmode_trade.0,
                    clip_mapmode_trade.1,
                    clip_mapmode_trade.2,
                    clip_mapmode_trade.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_trade".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_trade.0,
                    y: pos_mapmode_trade.1,
                    width: size_mapmode_trade.0 as f32,
                    height: size_mapmode_trade.1 as f32,
                },
            });
        }

        // Widget: mapmode_empire
        if let Some(sprite_mapmode_empire) = widget_cache.sprites.get("GFX_mapmode_empire") {
            let size_mapmode_empire = sprite_mapmode_empire
                .target_size
                .unwrap_or(sprite_mapmode_empire.dimensions);
            let pos_mapmode_empire = position_from_anchor(
                window_anchor,
                (-42, 51),
                Orientation::UpperLeft,
                size_mapmode_empire,
            );

            if let Some(border) = sprite_mapmode_empire.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_empire.bind_group.as_ref(),
                    queue,
                    pos_mapmode_empire.0,
                    pos_mapmode_empire.1,
                    size_mapmode_empire.0 as f32,
                    size_mapmode_empire.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_empire.dimensions.0,
                    sprite_mapmode_empire.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_empire.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_mapmode_empire.dimensions.0 / sprite_mapmode_empire.num_frames;
                let clip_mapmode_empire = rect_to_clip_space(
                    (pos_mapmode_empire.0, pos_mapmode_empire.1),
                    (frame_w, sprite_mapmode_empire.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_empire.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_empire.bind_group.as_ref(),
                    queue,
                    clip_mapmode_empire.0,
                    clip_mapmode_empire.1,
                    clip_mapmode_empire.2,
                    clip_mapmode_empire.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_empire = rect_to_clip_space(
                    (pos_mapmode_empire.0, pos_mapmode_empire.1),
                    (size_mapmode_empire.0, size_mapmode_empire.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_empire.bind_group.as_ref(),
                    queue,
                    clip_mapmode_empire.0,
                    clip_mapmode_empire.1,
                    clip_mapmode_empire.2,
                    clip_mapmode_empire.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_empire".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_empire.0,
                    y: pos_mapmode_empire.1,
                    width: size_mapmode_empire.0 as f32,
                    height: size_mapmode_empire.1 as f32,
                },
            });
        }

        // Widget: mapmode_religion
        if let Some(sprite_mapmode_religion) = widget_cache.sprites.get("GFX_mapmode_religion") {
            let size_mapmode_religion = sprite_mapmode_religion
                .target_size
                .unwrap_or(sprite_mapmode_religion.dimensions);
            let pos_mapmode_religion = position_from_anchor(
                window_anchor,
                (-80, 51),
                Orientation::UpperLeft,
                size_mapmode_religion,
            );

            if let Some(border) = sprite_mapmode_religion.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_religion.bind_group.as_ref(),
                    queue,
                    pos_mapmode_religion.0,
                    pos_mapmode_religion.1,
                    size_mapmode_religion.0 as f32,
                    size_mapmode_religion.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_religion.dimensions.0,
                    sprite_mapmode_religion.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_religion.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_religion.dimensions.0 / sprite_mapmode_religion.num_frames;
                let clip_mapmode_religion = rect_to_clip_space(
                    (pos_mapmode_religion.0, pos_mapmode_religion.1),
                    (frame_w, sprite_mapmode_religion.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_religion.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_religion.bind_group.as_ref(),
                    queue,
                    clip_mapmode_religion.0,
                    clip_mapmode_religion.1,
                    clip_mapmode_religion.2,
                    clip_mapmode_religion.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_religion = rect_to_clip_space(
                    (pos_mapmode_religion.0, pos_mapmode_religion.1),
                    (size_mapmode_religion.0, size_mapmode_religion.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_religion.bind_group.as_ref(),
                    queue,
                    clip_mapmode_religion.0,
                    clip_mapmode_religion.1,
                    clip_mapmode_religion.2,
                    clip_mapmode_religion.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_religion".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_religion.0,
                    y: pos_mapmode_religion.1,
                    width: size_mapmode_religion.0 as f32,
                    height: size_mapmode_religion.1 as f32,
                },
            });
        }

        // Widget: mapmode_diplomacy
        if let Some(sprite_mapmode_diplomacy) = widget_cache.sprites.get("GFX_mapmode_diplomatic") {
            let size_mapmode_diplomacy = sprite_mapmode_diplomacy
                .target_size
                .unwrap_or(sprite_mapmode_diplomacy.dimensions);
            let pos_mapmode_diplomacy = position_from_anchor(
                window_anchor,
                (-4, 51),
                Orientation::UpperLeft,
                size_mapmode_diplomacy,
            );

            if let Some(border) = sprite_mapmode_diplomacy.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_diplomacy.bind_group.as_ref(),
                    queue,
                    pos_mapmode_diplomacy.0,
                    pos_mapmode_diplomacy.1,
                    size_mapmode_diplomacy.0 as f32,
                    size_mapmode_diplomacy.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_diplomacy.dimensions.0,
                    sprite_mapmode_diplomacy.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_diplomacy.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_diplomacy.dimensions.0 / sprite_mapmode_diplomacy.num_frames;
                let clip_mapmode_diplomacy = rect_to_clip_space(
                    (pos_mapmode_diplomacy.0, pos_mapmode_diplomacy.1),
                    (frame_w, sprite_mapmode_diplomacy.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_diplomacy.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_diplomacy.bind_group.as_ref(),
                    queue,
                    clip_mapmode_diplomacy.0,
                    clip_mapmode_diplomacy.1,
                    clip_mapmode_diplomacy.2,
                    clip_mapmode_diplomacy.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_diplomacy = rect_to_clip_space(
                    (pos_mapmode_diplomacy.0, pos_mapmode_diplomacy.1),
                    (size_mapmode_diplomacy.0, size_mapmode_diplomacy.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_diplomacy.bind_group.as_ref(),
                    queue,
                    clip_mapmode_diplomacy.0,
                    clip_mapmode_diplomacy.1,
                    clip_mapmode_diplomacy.2,
                    clip_mapmode_diplomacy.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_diplomacy".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_diplomacy.0,
                    y: pos_mapmode_diplomacy.1,
                    width: size_mapmode_diplomacy.0 as f32,
                    height: size_mapmode_diplomacy.1 as f32,
                },
            });
        }

        // Widget: mapmode_economy
        if let Some(sprite_mapmode_economy) = widget_cache.sprites.get("GFX_mapmode_economical") {
            let size_mapmode_economy = sprite_mapmode_economy
                .target_size
                .unwrap_or(sprite_mapmode_economy.dimensions);
            let pos_mapmode_economy = position_from_anchor(
                window_anchor,
                (34, 51),
                Orientation::UpperLeft,
                size_mapmode_economy,
            );

            if let Some(border) = sprite_mapmode_economy.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_economy.bind_group.as_ref(),
                    queue,
                    pos_mapmode_economy.0,
                    pos_mapmode_economy.1,
                    size_mapmode_economy.0 as f32,
                    size_mapmode_economy.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_economy.dimensions.0,
                    sprite_mapmode_economy.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_economy.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_economy.dimensions.0 / sprite_mapmode_economy.num_frames;
                let clip_mapmode_economy = rect_to_clip_space(
                    (pos_mapmode_economy.0, pos_mapmode_economy.1),
                    (frame_w, sprite_mapmode_economy.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_economy.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_economy.bind_group.as_ref(),
                    queue,
                    clip_mapmode_economy.0,
                    clip_mapmode_economy.1,
                    clip_mapmode_economy.2,
                    clip_mapmode_economy.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_economy = rect_to_clip_space(
                    (pos_mapmode_economy.0, pos_mapmode_economy.1),
                    (size_mapmode_economy.0, size_mapmode_economy.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_economy.bind_group.as_ref(),
                    queue,
                    clip_mapmode_economy.0,
                    clip_mapmode_economy.1,
                    clip_mapmode_economy.2,
                    clip_mapmode_economy.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_economy".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_economy.0,
                    y: pos_mapmode_economy.1,
                    width: size_mapmode_economy.0 as f32,
                    height: size_mapmode_economy.1 as f32,
                },
            });
        }

        // Widget: mapmode_region
        if let Some(sprite_mapmode_region) = widget_cache.sprites.get("GFX_mapmode_region") {
            let size_mapmode_region = sprite_mapmode_region
                .target_size
                .unwrap_or(sprite_mapmode_region.dimensions);
            let pos_mapmode_region = position_from_anchor(
                window_anchor,
                (72, 51),
                Orientation::UpperLeft,
                size_mapmode_region,
            );

            if let Some(border) = sprite_mapmode_region.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_region.bind_group.as_ref(),
                    queue,
                    pos_mapmode_region.0,
                    pos_mapmode_region.1,
                    size_mapmode_region.0 as f32,
                    size_mapmode_region.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_region.dimensions.0,
                    sprite_mapmode_region.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_region.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_mapmode_region.dimensions.0 / sprite_mapmode_region.num_frames;
                let clip_mapmode_region = rect_to_clip_space(
                    (pos_mapmode_region.0, pos_mapmode_region.1),
                    (frame_w, sprite_mapmode_region.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_region.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_region.bind_group.as_ref(),
                    queue,
                    clip_mapmode_region.0,
                    clip_mapmode_region.1,
                    clip_mapmode_region.2,
                    clip_mapmode_region.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_region = rect_to_clip_space(
                    (pos_mapmode_region.0, pos_mapmode_region.1),
                    (size_mapmode_region.0, size_mapmode_region.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_region.bind_group.as_ref(),
                    queue,
                    clip_mapmode_region.0,
                    clip_mapmode_region.1,
                    clip_mapmode_region.2,
                    clip_mapmode_region.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_region".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_region.0,
                    y: pos_mapmode_region.1,
                    width: size_mapmode_region.0 as f32,
                    height: size_mapmode_region.1 as f32,
                },
            });
        }

        // Widget: mapmode_culture
        if let Some(sprite_mapmode_culture) = widget_cache.sprites.get("GFX_mapmode_culture") {
            let size_mapmode_culture = sprite_mapmode_culture
                .target_size
                .unwrap_or(sprite_mapmode_culture.dimensions);
            let pos_mapmode_culture = position_from_anchor(
                window_anchor,
                (110, 51),
                Orientation::UpperLeft,
                size_mapmode_culture,
            );

            if let Some(border) = sprite_mapmode_culture.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_culture.bind_group.as_ref(),
                    queue,
                    pos_mapmode_culture.0,
                    pos_mapmode_culture.1,
                    size_mapmode_culture.0 as f32,
                    size_mapmode_culture.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_culture.dimensions.0,
                    sprite_mapmode_culture.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_culture.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_culture.dimensions.0 / sprite_mapmode_culture.num_frames;
                let clip_mapmode_culture = rect_to_clip_space(
                    (pos_mapmode_culture.0, pos_mapmode_culture.1),
                    (frame_w, sprite_mapmode_culture.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_culture.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_culture.bind_group.as_ref(),
                    queue,
                    clip_mapmode_culture.0,
                    clip_mapmode_culture.1,
                    clip_mapmode_culture.2,
                    clip_mapmode_culture.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_culture = rect_to_clip_space(
                    (pos_mapmode_culture.0, pos_mapmode_culture.1),
                    (size_mapmode_culture.0, size_mapmode_culture.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_culture.bind_group.as_ref(),
                    queue,
                    clip_mapmode_culture.0,
                    clip_mapmode_culture.1,
                    clip_mapmode_culture.2,
                    clip_mapmode_culture.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_culture".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_culture.0,
                    y: pos_mapmode_culture.1,
                    width: size_mapmode_culture.0 as f32,
                    height: size_mapmode_culture.1 as f32,
                },
            });
        }

        // Widget: mapmode_players
        if let Some(sprite_mapmode_players) = widget_cache.sprites.get("GFX_mapmode_players_small")
        {
            let size_mapmode_players = sprite_mapmode_players
                .target_size
                .unwrap_or(sprite_mapmode_players.dimensions);
            let pos_mapmode_players = position_from_anchor(
                window_anchor,
                (148, 51),
                Orientation::UpperLeft,
                size_mapmode_players,
            );

            if let Some(border) = sprite_mapmode_players.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_players.bind_group.as_ref(),
                    queue,
                    pos_mapmode_players.0,
                    pos_mapmode_players.1,
                    size_mapmode_players.0 as f32,
                    size_mapmode_players.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_players.dimensions.0,
                    sprite_mapmode_players.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_players.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_players.dimensions.0 / sprite_mapmode_players.num_frames;
                let clip_mapmode_players = rect_to_clip_space(
                    (pos_mapmode_players.0, pos_mapmode_players.1),
                    (frame_w, sprite_mapmode_players.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_players.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_players.bind_group.as_ref(),
                    queue,
                    clip_mapmode_players.0,
                    clip_mapmode_players.1,
                    clip_mapmode_players.2,
                    clip_mapmode_players.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_players = rect_to_clip_space(
                    (pos_mapmode_players.0, pos_mapmode_players.1),
                    (size_mapmode_players.0, size_mapmode_players.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_players.bind_group.as_ref(),
                    queue,
                    clip_mapmode_players.0,
                    clip_mapmode_players.1,
                    clip_mapmode_players.2,
                    clip_mapmode_players.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_players".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_players.0,
                    y: pos_mapmode_players.1,
                    width: size_mapmode_players.0 as f32,
                    height: size_mapmode_players.1 as f32,
                },
            });
        }

        // Widget: mapmode_expansion
        if let Some(sprite_mapmode_expansion) =
            widget_cache.sprites.get("GFX_mapmode_players_small")
        {
            let size_mapmode_expansion = sprite_mapmode_expansion
                .target_size
                .unwrap_or(sprite_mapmode_expansion.dimensions);
            let pos_mapmode_expansion = position_from_anchor(
                window_anchor,
                (186, 51),
                Orientation::UpperLeft,
                size_mapmode_expansion,
            );

            if let Some(border) = sprite_mapmode_expansion.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_expansion.bind_group.as_ref(),
                    queue,
                    pos_mapmode_expansion.0,
                    pos_mapmode_expansion.1,
                    size_mapmode_expansion.0 as f32,
                    size_mapmode_expansion.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_expansion.dimensions.0,
                    sprite_mapmode_expansion.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_expansion.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_expansion.dimensions.0 / sprite_mapmode_expansion.num_frames;
                let clip_mapmode_expansion = rect_to_clip_space(
                    (pos_mapmode_expansion.0, pos_mapmode_expansion.1),
                    (frame_w, sprite_mapmode_expansion.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_expansion.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_expansion.bind_group.as_ref(),
                    queue,
                    clip_mapmode_expansion.0,
                    clip_mapmode_expansion.1,
                    clip_mapmode_expansion.2,
                    clip_mapmode_expansion.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_expansion = rect_to_clip_space(
                    (pos_mapmode_expansion.0, pos_mapmode_expansion.1),
                    (size_mapmode_expansion.0, size_mapmode_expansion.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_expansion.bind_group.as_ref(),
                    queue,
                    clip_mapmode_expansion.0,
                    clip_mapmode_expansion.1,
                    clip_mapmode_expansion.2,
                    clip_mapmode_expansion.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_expansion".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_expansion.0,
                    y: pos_mapmode_expansion.1,
                    width: size_mapmode_expansion.0 as f32,
                    height: size_mapmode_expansion.1 as f32,
                },
            });
        }

        // Widget: mapmode_content
        if let Some(sprite_mapmode_content) = widget_cache.sprites.get("GFX_mapmode_players_small")
        {
            let size_mapmode_content = sprite_mapmode_content
                .target_size
                .unwrap_or(sprite_mapmode_content.dimensions);
            let pos_mapmode_content = position_from_anchor(
                window_anchor,
                (186, 81),
                Orientation::UpperLeft,
                size_mapmode_content,
            );

            if let Some(border) = sprite_mapmode_content.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_content.bind_group.as_ref(),
                    queue,
                    pos_mapmode_content.0,
                    pos_mapmode_content.1,
                    size_mapmode_content.0 as f32,
                    size_mapmode_content.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_content.dimensions.0,
                    sprite_mapmode_content.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_content.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_mapmode_content.dimensions.0 / sprite_mapmode_content.num_frames;
                let clip_mapmode_content = rect_to_clip_space(
                    (pos_mapmode_content.0, pos_mapmode_content.1),
                    (frame_w, sprite_mapmode_content.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_content.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_content.bind_group.as_ref(),
                    queue,
                    clip_mapmode_content.0,
                    clip_mapmode_content.1,
                    clip_mapmode_content.2,
                    clip_mapmode_content.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_content = rect_to_clip_space(
                    (pos_mapmode_content.0, pos_mapmode_content.1),
                    (size_mapmode_content.0, size_mapmode_content.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_content.bind_group.as_ref(),
                    queue,
                    clip_mapmode_content.0,
                    clip_mapmode_content.1,
                    clip_mapmode_content.2,
                    clip_mapmode_content.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_content".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_content.0,
                    y: pos_mapmode_content.1,
                    width: size_mapmode_content.0 as f32,
                    height: size_mapmode_content.1 as f32,
                },
            });
        }

        // Widget: mapmode_unit
        if let Some(sprite_mapmode_unit) = widget_cache.sprites.get("GFX_mapmode_players_small") {
            let size_mapmode_unit = sprite_mapmode_unit
                .target_size
                .unwrap_or(sprite_mapmode_unit.dimensions);
            let pos_mapmode_unit = position_from_anchor(
                window_anchor,
                (186, 111),
                Orientation::UpperLeft,
                size_mapmode_unit,
            );

            if let Some(border) = sprite_mapmode_unit.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_unit.bind_group.as_ref(),
                    queue,
                    pos_mapmode_unit.0,
                    pos_mapmode_unit.1,
                    size_mapmode_unit.0 as f32,
                    size_mapmode_unit.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_unit.dimensions.0,
                    sprite_mapmode_unit.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_unit.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_mapmode_unit.dimensions.0 / sprite_mapmode_unit.num_frames;
                let clip_mapmode_unit = rect_to_clip_space(
                    (pos_mapmode_unit.0, pos_mapmode_unit.1),
                    (frame_w, sprite_mapmode_unit.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_unit.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_unit.bind_group.as_ref(),
                    queue,
                    clip_mapmode_unit.0,
                    clip_mapmode_unit.1,
                    clip_mapmode_unit.2,
                    clip_mapmode_unit.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_unit = rect_to_clip_space(
                    (pos_mapmode_unit.0, pos_mapmode_unit.1),
                    (size_mapmode_unit.0, size_mapmode_unit.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_unit.bind_group.as_ref(),
                    queue,
                    clip_mapmode_unit.0,
                    clip_mapmode_unit.1,
                    clip_mapmode_unit.2,
                    clip_mapmode_unit.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_unit".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_unit.0,
                    y: pos_mapmode_unit.1,
                    width: size_mapmode_unit.0 as f32,
                    height: size_mapmode_unit.1 as f32,
                },
            });
        }

        // Widget: mapmode_music
        if let Some(sprite_mapmode_music) = widget_cache.sprites.get("GFX_mapmode_players_small") {
            let size_mapmode_music = sprite_mapmode_music
                .target_size
                .unwrap_or(sprite_mapmode_music.dimensions);
            let pos_mapmode_music = position_from_anchor(
                window_anchor,
                (186, 141),
                Orientation::UpperLeft,
                size_mapmode_music,
            );

            if let Some(border) = sprite_mapmode_music.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_mapmode_music.bind_group.as_ref(),
                    queue,
                    pos_mapmode_music.0,
                    pos_mapmode_music.1,
                    size_mapmode_music.0 as f32,
                    size_mapmode_music.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_mapmode_music.dimensions.0,
                    sprite_mapmode_music.dimensions.1,
                    screen_size,
                );
            } else if sprite_mapmode_music.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_mapmode_music.dimensions.0 / sprite_mapmode_music.num_frames;
                let clip_mapmode_music = rect_to_clip_space(
                    (pos_mapmode_music.0, pos_mapmode_music.1),
                    (frame_w, sprite_mapmode_music.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_mapmode_music.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_mapmode_music.bind_group.as_ref(),
                    queue,
                    clip_mapmode_music.0,
                    clip_mapmode_music.1,
                    clip_mapmode_music.2,
                    clip_mapmode_music.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_mapmode_music = rect_to_clip_space(
                    (pos_mapmode_music.0, pos_mapmode_music.1),
                    (size_mapmode_music.0, size_mapmode_music.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_mapmode_music.bind_group.as_ref(),
                    queue,
                    clip_mapmode_music.0,
                    clip_mapmode_music.1,
                    clip_mapmode_music.2,
                    clip_mapmode_music.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "mapmode_music".to_string(),
                hit_box: HitBox {
                    x: pos_mapmode_music.0,
                    y: pos_mapmode_music.1,
                    width: size_mapmode_music.0 as f32,
                    height: size_mapmode_music.1 as f32,
                },
            });
        }

        // TextBox: year_label (font: vic_22) - no panel field mapping

        // TextBox: select_label (font: vic_18) - no panel field mapping

        // Widget: nation_designer_hint_bg
        if let Some(sprite_nation_designer_hint_bg) =
            widget_cache.sprites.get("GFX_nation_designer_hint_bg")
        {
            let size_nation_designer_hint_bg = sprite_nation_designer_hint_bg
                .target_size
                .unwrap_or(sprite_nation_designer_hint_bg.dimensions);
            let pos_nation_designer_hint_bg = position_from_anchor(
                window_anchor,
                (-203, 90),
                Orientation::UpperLeft,
                size_nation_designer_hint_bg,
            );

            if let Some(border) = sprite_nation_designer_hint_bg.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nation_designer_hint_bg.bind_group.as_ref(),
                    queue,
                    pos_nation_designer_hint_bg.0,
                    pos_nation_designer_hint_bg.1,
                    size_nation_designer_hint_bg.0 as f32,
                    size_nation_designer_hint_bg.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nation_designer_hint_bg.dimensions.0,
                    sprite_nation_designer_hint_bg.dimensions.1,
                    screen_size,
                );
            } else if sprite_nation_designer_hint_bg.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nation_designer_hint_bg.dimensions.0
                    / sprite_nation_designer_hint_bg.num_frames;
                let clip_nation_designer_hint_bg = rect_to_clip_space(
                    (pos_nation_designer_hint_bg.0, pos_nation_designer_hint_bg.1),
                    (frame_w, sprite_nation_designer_hint_bg.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nation_designer_hint_bg.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nation_designer_hint_bg.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_hint_bg.0,
                    clip_nation_designer_hint_bg.1,
                    clip_nation_designer_hint_bg.2,
                    clip_nation_designer_hint_bg.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nation_designer_hint_bg = rect_to_clip_space(
                    (pos_nation_designer_hint_bg.0, pos_nation_designer_hint_bg.1),
                    (
                        size_nation_designer_hint_bg.0,
                        size_nation_designer_hint_bg.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nation_designer_hint_bg.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_hint_bg.0,
                    clip_nation_designer_hint_bg.1,
                    clip_nation_designer_hint_bg.2,
                    clip_nation_designer_hint_bg.3,
                );
            }
        }

        // TextBox: nation_designer_hint (font: vic_18) - no panel field mapping

        // Widget: right_sidepanel
        if let Some(sprite_right_sidepanel) = widget_cache.sprites.get("GFX_lobby_right_bg") {
            let size_right_sidepanel = sprite_right_sidepanel
                .target_size
                .unwrap_or(sprite_right_sidepanel.dimensions);
            let pos_right_sidepanel = position_from_anchor(
                window_anchor,
                (-266, 16),
                Orientation::UpperRight,
                size_right_sidepanel,
            );

            if let Some(border) = sprite_right_sidepanel.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_right_sidepanel.bind_group.as_ref(),
                    queue,
                    pos_right_sidepanel.0,
                    pos_right_sidepanel.1,
                    size_right_sidepanel.0 as f32,
                    size_right_sidepanel.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_right_sidepanel.dimensions.0,
                    sprite_right_sidepanel.dimensions.1,
                    screen_size,
                );
            } else if sprite_right_sidepanel.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_right_sidepanel.dimensions.0 / sprite_right_sidepanel.num_frames;
                let clip_right_sidepanel = rect_to_clip_space(
                    (pos_right_sidepanel.0, pos_right_sidepanel.1),
                    (frame_w, sprite_right_sidepanel.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_right_sidepanel.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_right_sidepanel.bind_group.as_ref(),
                    queue,
                    clip_right_sidepanel.0,
                    clip_right_sidepanel.1,
                    clip_right_sidepanel.2,
                    clip_right_sidepanel.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_right_sidepanel = rect_to_clip_space(
                    (pos_right_sidepanel.0, pos_right_sidepanel.1),
                    (size_right_sidepanel.0, size_right_sidepanel.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_right_sidepanel.bind_group.as_ref(),
                    queue,
                    clip_right_sidepanel.0,
                    clip_right_sidepanel.1,
                    clip_right_sidepanel.2,
                    clip_right_sidepanel.3,
                );
            }
        }

        // Widget: ironman_icon
        if let Some(sprite_ironman_icon) = widget_cache.sprites.get("GFX_ironman_icon") {
            let size_ironman_icon = sprite_ironman_icon
                .target_size
                .unwrap_or(sprite_ironman_icon.dimensions);
            let pos_ironman_icon = position_from_anchor(
                window_anchor,
                (-200, 30),
                Orientation::UpperRight,
                size_ironman_icon,
            );

            if let Some(border) = sprite_ironman_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_ironman_icon.bind_group.as_ref(),
                    queue,
                    pos_ironman_icon.0,
                    pos_ironman_icon.1,
                    size_ironman_icon.0 as f32,
                    size_ironman_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_ironman_icon.dimensions.0,
                    sprite_ironman_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_ironman_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_ironman_icon.dimensions.0 / sprite_ironman_icon.num_frames;
                let clip_ironman_icon = rect_to_clip_space(
                    (pos_ironman_icon.0, pos_ironman_icon.1),
                    (frame_w, sprite_ironman_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_ironman_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_ironman_icon.bind_group.as_ref(),
                    queue,
                    clip_ironman_icon.0,
                    clip_ironman_icon.1,
                    clip_ironman_icon.2,
                    clip_ironman_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_ironman_icon = rect_to_clip_space(
                    (pos_ironman_icon.0, pos_ironman_icon.1),
                    (size_ironman_icon.0, size_ironman_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_ironman_icon.bind_group.as_ref(),
                    queue,
                    clip_ironman_icon.0,
                    clip_ironman_icon.1,
                    clip_ironman_icon.2,
                    clip_ironman_icon.3,
                );
            }
        }

        // TextBox: ironman_label (font: vic_22) - no panel field mapping

        // Widget: right_sidepanel
        if let Some(sprite_right_sidepanel) = widget_cache.sprites.get("GFX_lobby_right_mp_bg") {
            let size_right_sidepanel = sprite_right_sidepanel
                .target_size
                .unwrap_or(sprite_right_sidepanel.dimensions);
            let pos_right_sidepanel = position_from_anchor(
                window_anchor,
                (-456, 22),
                Orientation::UpperRight,
                size_right_sidepanel,
            );

            if let Some(border) = sprite_right_sidepanel.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_right_sidepanel.bind_group.as_ref(),
                    queue,
                    pos_right_sidepanel.0,
                    pos_right_sidepanel.1,
                    size_right_sidepanel.0 as f32,
                    size_right_sidepanel.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_right_sidepanel.dimensions.0,
                    sprite_right_sidepanel.dimensions.1,
                    screen_size,
                );
            } else if sprite_right_sidepanel.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_right_sidepanel.dimensions.0 / sprite_right_sidepanel.num_frames;
                let clip_right_sidepanel = rect_to_clip_space(
                    (pos_right_sidepanel.0, pos_right_sidepanel.1),
                    (frame_w, sprite_right_sidepanel.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_right_sidepanel.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_right_sidepanel.bind_group.as_ref(),
                    queue,
                    clip_right_sidepanel.0,
                    clip_right_sidepanel.1,
                    clip_right_sidepanel.2,
                    clip_right_sidepanel.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_right_sidepanel = rect_to_clip_space(
                    (pos_right_sidepanel.0, pos_right_sidepanel.1),
                    (size_right_sidepanel.0, size_right_sidepanel.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_right_sidepanel.bind_group.as_ref(),
                    queue,
                    clip_right_sidepanel.0,
                    clip_right_sidepanel.1,
                    clip_right_sidepanel.2,
                    clip_right_sidepanel.3,
                );
            }
        }

        // TextBox: checksum (font: vic_18) - no panel field mapping

        // Widget: checksum_click_button
        if let Some(sprite_checksum_click_button) =
            widget_cache.sprites.get("GFX_frontend_checksum")
        {
            let size_checksum_click_button = sprite_checksum_click_button
                .target_size
                .unwrap_or(sprite_checksum_click_button.dimensions);
            let pos_checksum_click_button = position_from_anchor(
                window_anchor,
                (-256, 72),
                Orientation::UpperLeft,
                size_checksum_click_button,
            );

            if let Some(border) = sprite_checksum_click_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_checksum_click_button.bind_group.as_ref(),
                    queue,
                    pos_checksum_click_button.0,
                    pos_checksum_click_button.1,
                    size_checksum_click_button.0 as f32,
                    size_checksum_click_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_checksum_click_button.dimensions.0,
                    sprite_checksum_click_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_checksum_click_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_checksum_click_button.dimensions.0
                    / sprite_checksum_click_button.num_frames;
                let clip_checksum_click_button = rect_to_clip_space(
                    (pos_checksum_click_button.0, pos_checksum_click_button.1),
                    (frame_w, sprite_checksum_click_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_checksum_click_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_checksum_click_button.bind_group.as_ref(),
                    queue,
                    clip_checksum_click_button.0,
                    clip_checksum_click_button.1,
                    clip_checksum_click_button.2,
                    clip_checksum_click_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_checksum_click_button = rect_to_clip_space(
                    (pos_checksum_click_button.0, pos_checksum_click_button.1),
                    (size_checksum_click_button.0, size_checksum_click_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_checksum_click_button.bind_group.as_ref(),
                    queue,
                    clip_checksum_click_button.0,
                    clip_checksum_click_button.1,
                    clip_checksum_click_button.2,
                    clip_checksum_click_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "checksum_click_button".to_string(),
                hit_box: HitBox {
                    x: pos_checksum_click_button.0,
                    y: pos_checksum_click_button.1,
                    width: size_checksum_click_button.0 as f32,
                    height: size_checksum_click_button.1 as f32,
                },
            });
        }

        // TextBox: num_players (font: vic_18) - no panel field mapping

        // Widget: create_team_button
        if let Some(sprite_create_team_button) =
            widget_cache.sprites.get("GFX_frontend_create_team")
        {
            let size_create_team_button = sprite_create_team_button
                .target_size
                .unwrap_or(sprite_create_team_button.dimensions);
            let pos_create_team_button = position_from_anchor(
                window_anchor,
                (-218, 540),
                Orientation::UpperLeft,
                size_create_team_button,
            );

            if let Some(border) = sprite_create_team_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_create_team_button.bind_group.as_ref(),
                    queue,
                    pos_create_team_button.0,
                    pos_create_team_button.1,
                    size_create_team_button.0 as f32,
                    size_create_team_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_create_team_button.dimensions.0,
                    sprite_create_team_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_create_team_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_create_team_button.dimensions.0 / sprite_create_team_button.num_frames;
                let clip_create_team_button = rect_to_clip_space(
                    (pos_create_team_button.0, pos_create_team_button.1),
                    (frame_w, sprite_create_team_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_create_team_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_create_team_button.bind_group.as_ref(),
                    queue,
                    clip_create_team_button.0,
                    clip_create_team_button.1,
                    clip_create_team_button.2,
                    clip_create_team_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_create_team_button = rect_to_clip_space(
                    (pos_create_team_button.0, pos_create_team_button.1),
                    (size_create_team_button.0, size_create_team_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_create_team_button.bind_group.as_ref(),
                    queue,
                    clip_create_team_button.0,
                    clip_create_team_button.1,
                    clip_create_team_button.2,
                    clip_create_team_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "create_team_button".to_string(),
                hit_box: HitBox {
                    x: pos_create_team_button.0,
                    y: pos_create_team_button.1,
                    width: size_create_team_button.0 as f32,
                    height: size_create_team_button.1 as f32,
                },
            });
        }

        // Widget: leave_team_button
        if let Some(sprite_leave_team_button) = widget_cache.sprites.get("GFX_frontend_leave_team")
        {
            let size_leave_team_button = sprite_leave_team_button
                .target_size
                .unwrap_or(sprite_leave_team_button.dimensions);
            let pos_leave_team_button = position_from_anchor(
                window_anchor,
                (-218, 540),
                Orientation::UpperLeft,
                size_leave_team_button,
            );

            if let Some(border) = sprite_leave_team_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_leave_team_button.bind_group.as_ref(),
                    queue,
                    pos_leave_team_button.0,
                    pos_leave_team_button.1,
                    size_leave_team_button.0 as f32,
                    size_leave_team_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_leave_team_button.dimensions.0,
                    sprite_leave_team_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_leave_team_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_leave_team_button.dimensions.0 / sprite_leave_team_button.num_frames;
                let clip_leave_team_button = rect_to_clip_space(
                    (pos_leave_team_button.0, pos_leave_team_button.1),
                    (frame_w, sprite_leave_team_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_leave_team_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_leave_team_button.bind_group.as_ref(),
                    queue,
                    clip_leave_team_button.0,
                    clip_leave_team_button.1,
                    clip_leave_team_button.2,
                    clip_leave_team_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_leave_team_button = rect_to_clip_space(
                    (pos_leave_team_button.0, pos_leave_team_button.1),
                    (size_leave_team_button.0, size_leave_team_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_leave_team_button.bind_group.as_ref(),
                    queue,
                    clip_leave_team_button.0,
                    clip_leave_team_button.1,
                    clip_leave_team_button.2,
                    clip_leave_team_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "leave_team_button".to_string(),
                hit_box: HitBox {
                    x: pos_leave_team_button.0,
                    y: pos_leave_team_button.1,
                    width: size_leave_team_button.0 as f32,
                    height: size_leave_team_button.1 as f32,
                },
            });
        }

        // TODO: Widget multiplayer_list (Listbox) not yet implemented

        // TextBox: country_tab_title (font: vic_22) - no panel field mapping

        // TextBox: players_tab_title (font: vic_22) - no panel field mapping

        // TextBox: selected_nation_label (font: vic_22) - no panel field mapping

        // TextBox: diplomacy_banner_label (font: vic_18) - no panel field mapping

        // Widget: techgroup_icon
        if let Some(sprite_techgroup_icon) = widget_cache.sprites.get("GFX_tech_group_strip") {
            let size_techgroup_icon = sprite_techgroup_icon
                .target_size
                .unwrap_or(sprite_techgroup_icon.dimensions);
            let pos_techgroup_icon = position_from_anchor(
                window_anchor,
                (-217, 118),
                Orientation::UpperLeft,
                size_techgroup_icon,
            );

            if let Some(border) = sprite_techgroup_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_techgroup_icon.bind_group.as_ref(),
                    queue,
                    pos_techgroup_icon.0,
                    pos_techgroup_icon.1,
                    size_techgroup_icon.0 as f32,
                    size_techgroup_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_techgroup_icon.dimensions.0,
                    sprite_techgroup_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_techgroup_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_techgroup_icon.dimensions.0 / sprite_techgroup_icon.num_frames;
                let clip_techgroup_icon = rect_to_clip_space(
                    (pos_techgroup_icon.0, pos_techgroup_icon.1),
                    (frame_w, sprite_techgroup_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_techgroup_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_techgroup_icon.bind_group.as_ref(),
                    queue,
                    clip_techgroup_icon.0,
                    clip_techgroup_icon.1,
                    clip_techgroup_icon.2,
                    clip_techgroup_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_techgroup_icon = rect_to_clip_space(
                    (pos_techgroup_icon.0, pos_techgroup_icon.1),
                    (size_techgroup_icon.0, size_techgroup_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_techgroup_icon.bind_group.as_ref(),
                    queue,
                    clip_techgroup_icon.0,
                    clip_techgroup_icon.1,
                    clip_techgroup_icon.2,
                    clip_techgroup_icon.3,
                );
            }
        }

        // Widget: player_shield
        if let Some(sprite_player_shield) = widget_cache.sprites.get("GFX_shield_thin") {
            let size_player_shield = sprite_player_shield
                .target_size
                .unwrap_or(sprite_player_shield.dimensions);
            let pos_player_shield = position_from_anchor(
                window_anchor,
                (-176, 72),
                Orientation::UpperLeft,
                size_player_shield,
            );

            if let Some(border) = sprite_player_shield.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_player_shield.bind_group.as_ref(),
                    queue,
                    pos_player_shield.0,
                    pos_player_shield.1,
                    size_player_shield.0 as f32,
                    size_player_shield.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_player_shield.dimensions.0,
                    sprite_player_shield.dimensions.1,
                    screen_size,
                );
            } else if sprite_player_shield.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_player_shield.dimensions.0 / sprite_player_shield.num_frames;
                let clip_player_shield = rect_to_clip_space(
                    (pos_player_shield.0, pos_player_shield.1),
                    (frame_w, sprite_player_shield.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_player_shield.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_player_shield.bind_group.as_ref(),
                    queue,
                    clip_player_shield.0,
                    clip_player_shield.1,
                    clip_player_shield.2,
                    clip_player_shield.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_player_shield = rect_to_clip_space(
                    (pos_player_shield.0, pos_player_shield.1),
                    (size_player_shield.0, size_player_shield.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_player_shield.bind_group.as_ref(),
                    queue,
                    clip_player_shield.0,
                    clip_player_shield.1,
                    clip_player_shield.2,
                    clip_player_shield.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "player_shield".to_string(),
                hit_box: HitBox {
                    x: pos_player_shield.0,
                    y: pos_player_shield.1,
                    width: size_player_shield.0 as f32,
                    height: size_player_shield.1 as f32,
                },
            });
        }

        // Widget: government_rank
        if let Some(sprite_government_rank) = widget_cache.sprites.get("GFX_government_rank_strip")
        {
            let size_government_rank = sprite_government_rank
                .target_size
                .unwrap_or(sprite_government_rank.dimensions);
            let pos_government_rank = position_from_anchor(
                window_anchor,
                (-224, 78),
                Orientation::UpperLeft,
                size_government_rank,
            );

            if let Some(border) = sprite_government_rank.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_government_rank.bind_group.as_ref(),
                    queue,
                    pos_government_rank.0,
                    pos_government_rank.1,
                    size_government_rank.0 as f32,
                    size_government_rank.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_government_rank.dimensions.0,
                    sprite_government_rank.dimensions.1,
                    screen_size,
                );
            } else if sprite_government_rank.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_government_rank.dimensions.0 / sprite_government_rank.num_frames;
                let clip_government_rank = rect_to_clip_space(
                    (pos_government_rank.0, pos_government_rank.1),
                    (frame_w, sprite_government_rank.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_government_rank.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_government_rank.bind_group.as_ref(),
                    queue,
                    clip_government_rank.0,
                    clip_government_rank.1,
                    clip_government_rank.2,
                    clip_government_rank.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_government_rank = rect_to_clip_space(
                    (pos_government_rank.0, pos_government_rank.1),
                    (size_government_rank.0, size_government_rank.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_government_rank.bind_group.as_ref(),
                    queue,
                    clip_government_rank.0,
                    clip_government_rank.1,
                    clip_government_rank.2,
                    clip_government_rank.3,
                );
            }
        }

        // Widget: religion_icon
        if let Some(sprite_religion_icon) = widget_cache.sprites.get("GFX_icon_religion") {
            let size_religion_icon = sprite_religion_icon
                .target_size
                .unwrap_or(sprite_religion_icon.dimensions);
            let pos_religion_icon = position_from_anchor(
                window_anchor,
                (-88, 66),
                Orientation::UpperLeft,
                size_religion_icon,
            );

            if let Some(border) = sprite_religion_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_religion_icon.bind_group.as_ref(),
                    queue,
                    pos_religion_icon.0,
                    pos_religion_icon.1,
                    size_religion_icon.0 as f32,
                    size_religion_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_religion_icon.dimensions.0,
                    sprite_religion_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_religion_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_religion_icon.dimensions.0 / sprite_religion_icon.num_frames;
                let clip_religion_icon = rect_to_clip_space(
                    (pos_religion_icon.0, pos_religion_icon.1),
                    (frame_w, sprite_religion_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_religion_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_religion_icon.bind_group.as_ref(),
                    queue,
                    clip_religion_icon.0,
                    clip_religion_icon.1,
                    clip_religion_icon.2,
                    clip_religion_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_religion_icon = rect_to_clip_space(
                    (pos_religion_icon.0, pos_religion_icon.1),
                    (size_religion_icon.0, size_religion_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_religion_icon.bind_group.as_ref(),
                    queue,
                    clip_religion_icon.0,
                    clip_religion_icon.1,
                    clip_religion_icon.2,
                    clip_religion_icon.3,
                );
            }
        }

        // Widget: secondary_religion_icon
        if let Some(sprite_secondary_religion_icon) = widget_cache.sprites.get("GFX_icon_religion")
        {
            let size_secondary_religion_icon = sprite_secondary_religion_icon
                .target_size
                .unwrap_or(sprite_secondary_religion_icon.dimensions);
            let pos_secondary_religion_icon = position_from_anchor(
                window_anchor,
                (-76, 124),
                Orientation::UpperLeft,
                size_secondary_religion_icon,
            );

            if let Some(border) = sprite_secondary_religion_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_secondary_religion_icon.bind_group.as_ref(),
                    queue,
                    pos_secondary_religion_icon.0,
                    pos_secondary_religion_icon.1,
                    size_secondary_religion_icon.0 as f32,
                    size_secondary_religion_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_secondary_religion_icon.dimensions.0,
                    sprite_secondary_religion_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_secondary_religion_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_secondary_religion_icon.dimensions.0
                    / sprite_secondary_religion_icon.num_frames;
                let clip_secondary_religion_icon = rect_to_clip_space(
                    (pos_secondary_religion_icon.0, pos_secondary_religion_icon.1),
                    (frame_w, sprite_secondary_religion_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_secondary_religion_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_secondary_religion_icon.bind_group.as_ref(),
                    queue,
                    clip_secondary_religion_icon.0,
                    clip_secondary_religion_icon.1,
                    clip_secondary_religion_icon.2,
                    clip_secondary_religion_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_secondary_religion_icon = rect_to_clip_space(
                    (pos_secondary_religion_icon.0, pos_secondary_religion_icon.1),
                    (
                        size_secondary_religion_icon.0,
                        size_secondary_religion_icon.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_secondary_religion_icon.bind_group.as_ref(),
                    queue,
                    clip_secondary_religion_icon.0,
                    clip_secondary_religion_icon.1,
                    clip_secondary_religion_icon.2,
                    clip_secondary_religion_icon.3,
                );
            }
        }

        // TextBox: selected_nation_label (font: vic_22) - no panel field mapping

        // TextBox: selected_fog (font: vic_18) - no panel field mapping

        // TextBox: selected_nation_status_label (font: vic_18) - no panel field mapping

        // TextBox: selected_ruler (font: vic_18) - no panel field mapping

        // Widget: ruler_adm_icon
        if let Some(sprite_ruler_adm_icon) =
            widget_cache.sprites.get("GFX_icon_powers_administrative")
        {
            let size_ruler_adm_icon = sprite_ruler_adm_icon
                .target_size
                .unwrap_or(sprite_ruler_adm_icon.dimensions);
            let pos_ruler_adm_icon = position_from_anchor(
                window_anchor,
                (-216, 250),
                Orientation::UpperLeft,
                size_ruler_adm_icon,
            );

            if let Some(border) = sprite_ruler_adm_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_ruler_adm_icon.bind_group.as_ref(),
                    queue,
                    pos_ruler_adm_icon.0,
                    pos_ruler_adm_icon.1,
                    size_ruler_adm_icon.0 as f32,
                    size_ruler_adm_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_ruler_adm_icon.dimensions.0,
                    sprite_ruler_adm_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_ruler_adm_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_ruler_adm_icon.dimensions.0 / sprite_ruler_adm_icon.num_frames;
                let clip_ruler_adm_icon = rect_to_clip_space(
                    (pos_ruler_adm_icon.0, pos_ruler_adm_icon.1),
                    (frame_w, sprite_ruler_adm_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_ruler_adm_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_ruler_adm_icon.bind_group.as_ref(),
                    queue,
                    clip_ruler_adm_icon.0,
                    clip_ruler_adm_icon.1,
                    clip_ruler_adm_icon.2,
                    clip_ruler_adm_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_ruler_adm_icon = rect_to_clip_space(
                    (pos_ruler_adm_icon.0, pos_ruler_adm_icon.1),
                    (size_ruler_adm_icon.0, size_ruler_adm_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_ruler_adm_icon.bind_group.as_ref(),
                    queue,
                    clip_ruler_adm_icon.0,
                    clip_ruler_adm_icon.1,
                    clip_ruler_adm_icon.2,
                    clip_ruler_adm_icon.3,
                );
            }
        }

        // TextBox: ruler_adm_value (font: vic_18) - no panel field mapping

        // Widget: ruler_dip_icon
        if let Some(sprite_ruler_dip_icon) = widget_cache.sprites.get("GFX_icon_powers_diplomatic")
        {
            let size_ruler_dip_icon = sprite_ruler_dip_icon
                .target_size
                .unwrap_or(sprite_ruler_dip_icon.dimensions);
            let pos_ruler_dip_icon = position_from_anchor(
                window_anchor,
                (-157, 250),
                Orientation::UpperLeft,
                size_ruler_dip_icon,
            );

            if let Some(border) = sprite_ruler_dip_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_ruler_dip_icon.bind_group.as_ref(),
                    queue,
                    pos_ruler_dip_icon.0,
                    pos_ruler_dip_icon.1,
                    size_ruler_dip_icon.0 as f32,
                    size_ruler_dip_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_ruler_dip_icon.dimensions.0,
                    sprite_ruler_dip_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_ruler_dip_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_ruler_dip_icon.dimensions.0 / sprite_ruler_dip_icon.num_frames;
                let clip_ruler_dip_icon = rect_to_clip_space(
                    (pos_ruler_dip_icon.0, pos_ruler_dip_icon.1),
                    (frame_w, sprite_ruler_dip_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_ruler_dip_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_ruler_dip_icon.bind_group.as_ref(),
                    queue,
                    clip_ruler_dip_icon.0,
                    clip_ruler_dip_icon.1,
                    clip_ruler_dip_icon.2,
                    clip_ruler_dip_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_ruler_dip_icon = rect_to_clip_space(
                    (pos_ruler_dip_icon.0, pos_ruler_dip_icon.1),
                    (size_ruler_dip_icon.0, size_ruler_dip_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_ruler_dip_icon.bind_group.as_ref(),
                    queue,
                    clip_ruler_dip_icon.0,
                    clip_ruler_dip_icon.1,
                    clip_ruler_dip_icon.2,
                    clip_ruler_dip_icon.3,
                );
            }
        }

        // TextBox: ruler_dip_value (font: vic_18) - no panel field mapping

        // Widget: ruler_mil_icon
        if let Some(sprite_ruler_mil_icon) = widget_cache.sprites.get("GFX_icon_powers_military") {
            let size_ruler_mil_icon = sprite_ruler_mil_icon
                .target_size
                .unwrap_or(sprite_ruler_mil_icon.dimensions);
            let pos_ruler_mil_icon = position_from_anchor(
                window_anchor,
                (-107, 250),
                Orientation::UpperLeft,
                size_ruler_mil_icon,
            );

            if let Some(border) = sprite_ruler_mil_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_ruler_mil_icon.bind_group.as_ref(),
                    queue,
                    pos_ruler_mil_icon.0,
                    pos_ruler_mil_icon.1,
                    size_ruler_mil_icon.0 as f32,
                    size_ruler_mil_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_ruler_mil_icon.dimensions.0,
                    sprite_ruler_mil_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_ruler_mil_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_ruler_mil_icon.dimensions.0 / sprite_ruler_mil_icon.num_frames;
                let clip_ruler_mil_icon = rect_to_clip_space(
                    (pos_ruler_mil_icon.0, pos_ruler_mil_icon.1),
                    (frame_w, sprite_ruler_mil_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_ruler_mil_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_ruler_mil_icon.bind_group.as_ref(),
                    queue,
                    clip_ruler_mil_icon.0,
                    clip_ruler_mil_icon.1,
                    clip_ruler_mil_icon.2,
                    clip_ruler_mil_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_ruler_mil_icon = rect_to_clip_space(
                    (pos_ruler_mil_icon.0, pos_ruler_mil_icon.1),
                    (size_ruler_mil_icon.0, size_ruler_mil_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_ruler_mil_icon.bind_group.as_ref(),
                    queue,
                    clip_ruler_mil_icon.0,
                    clip_ruler_mil_icon.1,
                    clip_ruler_mil_icon.2,
                    clip_ruler_mil_icon.3,
                );
            }
        }

        // TextBox: ruler_mil_value (font: vic_18) - no panel field mapping

        // Widget: admtech_icon
        if let Some(sprite_admtech_icon) = widget_cache
            .sprites
            .get("GFX_icon_powers_administrative_tech")
        {
            let size_admtech_icon = sprite_admtech_icon
                .target_size
                .unwrap_or(sprite_admtech_icon.dimensions);
            let pos_admtech_icon = position_from_anchor(
                window_anchor,
                (-211, 286),
                Orientation::UpperLeft,
                size_admtech_icon,
            );

            if let Some(border) = sprite_admtech_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_admtech_icon.bind_group.as_ref(),
                    queue,
                    pos_admtech_icon.0,
                    pos_admtech_icon.1,
                    size_admtech_icon.0 as f32,
                    size_admtech_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_admtech_icon.dimensions.0,
                    sprite_admtech_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_admtech_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_admtech_icon.dimensions.0 / sprite_admtech_icon.num_frames;
                let clip_admtech_icon = rect_to_clip_space(
                    (pos_admtech_icon.0, pos_admtech_icon.1),
                    (frame_w, sprite_admtech_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_admtech_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_admtech_icon.bind_group.as_ref(),
                    queue,
                    clip_admtech_icon.0,
                    clip_admtech_icon.1,
                    clip_admtech_icon.2,
                    clip_admtech_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_admtech_icon = rect_to_clip_space(
                    (pos_admtech_icon.0, pos_admtech_icon.1),
                    (size_admtech_icon.0, size_admtech_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_admtech_icon.bind_group.as_ref(),
                    queue,
                    clip_admtech_icon.0,
                    clip_admtech_icon.1,
                    clip_admtech_icon.2,
                    clip_admtech_icon.3,
                );
            }
        }

        // TextBox: admtech_value (font: vic_18) - no panel field mapping

        // Widget: diptech_icon
        if let Some(sprite_diptech_icon) =
            widget_cache.sprites.get("GFX_icon_powers_diplomatic_tech")
        {
            let size_diptech_icon = sprite_diptech_icon
                .target_size
                .unwrap_or(sprite_diptech_icon.dimensions);
            let pos_diptech_icon = position_from_anchor(
                window_anchor,
                (-156, 286),
                Orientation::UpperLeft,
                size_diptech_icon,
            );

            if let Some(border) = sprite_diptech_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_diptech_icon.bind_group.as_ref(),
                    queue,
                    pos_diptech_icon.0,
                    pos_diptech_icon.1,
                    size_diptech_icon.0 as f32,
                    size_diptech_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_diptech_icon.dimensions.0,
                    sprite_diptech_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_diptech_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_diptech_icon.dimensions.0 / sprite_diptech_icon.num_frames;
                let clip_diptech_icon = rect_to_clip_space(
                    (pos_diptech_icon.0, pos_diptech_icon.1),
                    (frame_w, sprite_diptech_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_diptech_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_diptech_icon.bind_group.as_ref(),
                    queue,
                    clip_diptech_icon.0,
                    clip_diptech_icon.1,
                    clip_diptech_icon.2,
                    clip_diptech_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_diptech_icon = rect_to_clip_space(
                    (pos_diptech_icon.0, pos_diptech_icon.1),
                    (size_diptech_icon.0, size_diptech_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_diptech_icon.bind_group.as_ref(),
                    queue,
                    clip_diptech_icon.0,
                    clip_diptech_icon.1,
                    clip_diptech_icon.2,
                    clip_diptech_icon.3,
                );
            }
        }

        // TextBox: diptech_value (font: vic_18) - no panel field mapping

        // Widget: miltech_icon
        if let Some(sprite_miltech_icon) = widget_cache.sprites.get("GFX_icon_powers_military_tech")
        {
            let size_miltech_icon = sprite_miltech_icon
                .target_size
                .unwrap_or(sprite_miltech_icon.dimensions);
            let pos_miltech_icon = position_from_anchor(
                window_anchor,
                (-96, 286),
                Orientation::UpperLeft,
                size_miltech_icon,
            );

            if let Some(border) = sprite_miltech_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_miltech_icon.bind_group.as_ref(),
                    queue,
                    pos_miltech_icon.0,
                    pos_miltech_icon.1,
                    size_miltech_icon.0 as f32,
                    size_miltech_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_miltech_icon.dimensions.0,
                    sprite_miltech_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_miltech_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_miltech_icon.dimensions.0 / sprite_miltech_icon.num_frames;
                let clip_miltech_icon = rect_to_clip_space(
                    (pos_miltech_icon.0, pos_miltech_icon.1),
                    (frame_w, sprite_miltech_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_miltech_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_miltech_icon.bind_group.as_ref(),
                    queue,
                    clip_miltech_icon.0,
                    clip_miltech_icon.1,
                    clip_miltech_icon.2,
                    clip_miltech_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_miltech_icon = rect_to_clip_space(
                    (pos_miltech_icon.0, pos_miltech_icon.1),
                    (size_miltech_icon.0, size_miltech_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_miltech_icon.bind_group.as_ref(),
                    queue,
                    clip_miltech_icon.0,
                    clip_miltech_icon.1,
                    clip_miltech_icon.2,
                    clip_miltech_icon.3,
                );
            }
        }

        // TextBox: miltech_value (font: vic_18) - no panel field mapping

        // TextBox: national_ideagroup_name (font: vic_18) - no panel field mapping

        // Widget: ideas_icon
        if let Some(sprite_ideas_icon) = widget_cache.sprites.get("GFX_icon_ideas") {
            let size_ideas_icon = sprite_ideas_icon
                .target_size
                .unwrap_or(sprite_ideas_icon.dimensions);
            let pos_ideas_icon = position_from_anchor(
                window_anchor,
                (-66, 326),
                Orientation::UpperLeft,
                size_ideas_icon,
            );

            if let Some(border) = sprite_ideas_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_ideas_icon.bind_group.as_ref(),
                    queue,
                    pos_ideas_icon.0,
                    pos_ideas_icon.1,
                    size_ideas_icon.0 as f32,
                    size_ideas_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_ideas_icon.dimensions.0,
                    sprite_ideas_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_ideas_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_ideas_icon.dimensions.0 / sprite_ideas_icon.num_frames;
                let clip_ideas_icon = rect_to_clip_space(
                    (pos_ideas_icon.0, pos_ideas_icon.1),
                    (frame_w, sprite_ideas_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_ideas_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_ideas_icon.bind_group.as_ref(),
                    queue,
                    clip_ideas_icon.0,
                    clip_ideas_icon.1,
                    clip_ideas_icon.2,
                    clip_ideas_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_ideas_icon = rect_to_clip_space(
                    (pos_ideas_icon.0, pos_ideas_icon.1),
                    (size_ideas_icon.0, size_ideas_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_ideas_icon.bind_group.as_ref(),
                    queue,
                    clip_ideas_icon.0,
                    clip_ideas_icon.1,
                    clip_ideas_icon.2,
                    clip_ideas_icon.3,
                );
            }
        }

        // TextBox: ideas_value (font: vic_18) - no panel field mapping

        // Widget: national_idea1
        if let Some(sprite_national_idea1) = widget_cache.sprites.get("GFX_idea_empty") {
            let size_national_idea1 = sprite_national_idea1
                .target_size
                .unwrap_or(sprite_national_idea1.dimensions);
            let pos_national_idea1 = position_from_anchor(
                window_anchor,
                (-243, 360),
                Orientation::UpperLeft,
                size_national_idea1,
            );

            if let Some(border) = sprite_national_idea1.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_national_idea1.bind_group.as_ref(),
                    queue,
                    pos_national_idea1.0,
                    pos_national_idea1.1,
                    size_national_idea1.0 as f32,
                    size_national_idea1.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_national_idea1.dimensions.0,
                    sprite_national_idea1.dimensions.1,
                    screen_size,
                );
            } else if sprite_national_idea1.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_national_idea1.dimensions.0 / sprite_national_idea1.num_frames;
                let clip_national_idea1 = rect_to_clip_space(
                    (pos_national_idea1.0, pos_national_idea1.1),
                    (frame_w, sprite_national_idea1.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_national_idea1.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_national_idea1.bind_group.as_ref(),
                    queue,
                    clip_national_idea1.0,
                    clip_national_idea1.1,
                    clip_national_idea1.2,
                    clip_national_idea1.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_national_idea1 = rect_to_clip_space(
                    (pos_national_idea1.0, pos_national_idea1.1),
                    (size_national_idea1.0, size_national_idea1.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_national_idea1.bind_group.as_ref(),
                    queue,
                    clip_national_idea1.0,
                    clip_national_idea1.1,
                    clip_national_idea1.2,
                    clip_national_idea1.3,
                );
            }
        }

        // Widget: national_idea2
        if let Some(sprite_national_idea2) = widget_cache.sprites.get("GFX_idea_empty") {
            let size_national_idea2 = sprite_national_idea2
                .target_size
                .unwrap_or(sprite_national_idea2.dimensions);
            let pos_national_idea2 = position_from_anchor(
                window_anchor,
                (-211, 360),
                Orientation::UpperLeft,
                size_national_idea2,
            );

            if let Some(border) = sprite_national_idea2.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_national_idea2.bind_group.as_ref(),
                    queue,
                    pos_national_idea2.0,
                    pos_national_idea2.1,
                    size_national_idea2.0 as f32,
                    size_national_idea2.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_national_idea2.dimensions.0,
                    sprite_national_idea2.dimensions.1,
                    screen_size,
                );
            } else if sprite_national_idea2.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_national_idea2.dimensions.0 / sprite_national_idea2.num_frames;
                let clip_national_idea2 = rect_to_clip_space(
                    (pos_national_idea2.0, pos_national_idea2.1),
                    (frame_w, sprite_national_idea2.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_national_idea2.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_national_idea2.bind_group.as_ref(),
                    queue,
                    clip_national_idea2.0,
                    clip_national_idea2.1,
                    clip_national_idea2.2,
                    clip_national_idea2.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_national_idea2 = rect_to_clip_space(
                    (pos_national_idea2.0, pos_national_idea2.1),
                    (size_national_idea2.0, size_national_idea2.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_national_idea2.bind_group.as_ref(),
                    queue,
                    clip_national_idea2.0,
                    clip_national_idea2.1,
                    clip_national_idea2.2,
                    clip_national_idea2.3,
                );
            }
        }

        // Widget: national_idea3
        if let Some(sprite_national_idea3) = widget_cache.sprites.get("GFX_idea_empty") {
            let size_national_idea3 = sprite_national_idea3
                .target_size
                .unwrap_or(sprite_national_idea3.dimensions);
            let pos_national_idea3 = position_from_anchor(
                window_anchor,
                (-179, 360),
                Orientation::UpperLeft,
                size_national_idea3,
            );

            if let Some(border) = sprite_national_idea3.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_national_idea3.bind_group.as_ref(),
                    queue,
                    pos_national_idea3.0,
                    pos_national_idea3.1,
                    size_national_idea3.0 as f32,
                    size_national_idea3.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_national_idea3.dimensions.0,
                    sprite_national_idea3.dimensions.1,
                    screen_size,
                );
            } else if sprite_national_idea3.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_national_idea3.dimensions.0 / sprite_national_idea3.num_frames;
                let clip_national_idea3 = rect_to_clip_space(
                    (pos_national_idea3.0, pos_national_idea3.1),
                    (frame_w, sprite_national_idea3.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_national_idea3.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_national_idea3.bind_group.as_ref(),
                    queue,
                    clip_national_idea3.0,
                    clip_national_idea3.1,
                    clip_national_idea3.2,
                    clip_national_idea3.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_national_idea3 = rect_to_clip_space(
                    (pos_national_idea3.0, pos_national_idea3.1),
                    (size_national_idea3.0, size_national_idea3.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_national_idea3.bind_group.as_ref(),
                    queue,
                    clip_national_idea3.0,
                    clip_national_idea3.1,
                    clip_national_idea3.2,
                    clip_national_idea3.3,
                );
            }
        }

        // Widget: national_idea4
        if let Some(sprite_national_idea4) = widget_cache.sprites.get("GFX_idea_empty") {
            let size_national_idea4 = sprite_national_idea4
                .target_size
                .unwrap_or(sprite_national_idea4.dimensions);
            let pos_national_idea4 = position_from_anchor(
                window_anchor,
                (-147, 360),
                Orientation::UpperLeft,
                size_national_idea4,
            );

            if let Some(border) = sprite_national_idea4.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_national_idea4.bind_group.as_ref(),
                    queue,
                    pos_national_idea4.0,
                    pos_national_idea4.1,
                    size_national_idea4.0 as f32,
                    size_national_idea4.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_national_idea4.dimensions.0,
                    sprite_national_idea4.dimensions.1,
                    screen_size,
                );
            } else if sprite_national_idea4.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_national_idea4.dimensions.0 / sprite_national_idea4.num_frames;
                let clip_national_idea4 = rect_to_clip_space(
                    (pos_national_idea4.0, pos_national_idea4.1),
                    (frame_w, sprite_national_idea4.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_national_idea4.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_national_idea4.bind_group.as_ref(),
                    queue,
                    clip_national_idea4.0,
                    clip_national_idea4.1,
                    clip_national_idea4.2,
                    clip_national_idea4.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_national_idea4 = rect_to_clip_space(
                    (pos_national_idea4.0, pos_national_idea4.1),
                    (size_national_idea4.0, size_national_idea4.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_national_idea4.bind_group.as_ref(),
                    queue,
                    clip_national_idea4.0,
                    clip_national_idea4.1,
                    clip_national_idea4.2,
                    clip_national_idea4.3,
                );
            }
        }

        // Widget: national_idea5
        if let Some(sprite_national_idea5) = widget_cache.sprites.get("GFX_idea_empty") {
            let size_national_idea5 = sprite_national_idea5
                .target_size
                .unwrap_or(sprite_national_idea5.dimensions);
            let pos_national_idea5 = position_from_anchor(
                window_anchor,
                (-115, 360),
                Orientation::UpperLeft,
                size_national_idea5,
            );

            if let Some(border) = sprite_national_idea5.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_national_idea5.bind_group.as_ref(),
                    queue,
                    pos_national_idea5.0,
                    pos_national_idea5.1,
                    size_national_idea5.0 as f32,
                    size_national_idea5.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_national_idea5.dimensions.0,
                    sprite_national_idea5.dimensions.1,
                    screen_size,
                );
            } else if sprite_national_idea5.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_national_idea5.dimensions.0 / sprite_national_idea5.num_frames;
                let clip_national_idea5 = rect_to_clip_space(
                    (pos_national_idea5.0, pos_national_idea5.1),
                    (frame_w, sprite_national_idea5.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_national_idea5.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_national_idea5.bind_group.as_ref(),
                    queue,
                    clip_national_idea5.0,
                    clip_national_idea5.1,
                    clip_national_idea5.2,
                    clip_national_idea5.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_national_idea5 = rect_to_clip_space(
                    (pos_national_idea5.0, pos_national_idea5.1),
                    (size_national_idea5.0, size_national_idea5.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_national_idea5.bind_group.as_ref(),
                    queue,
                    clip_national_idea5.0,
                    clip_national_idea5.1,
                    clip_national_idea5.2,
                    clip_national_idea5.3,
                );
            }
        }

        // Widget: national_idea6
        if let Some(sprite_national_idea6) = widget_cache.sprites.get("GFX_idea_empty") {
            let size_national_idea6 = sprite_national_idea6
                .target_size
                .unwrap_or(sprite_national_idea6.dimensions);
            let pos_national_idea6 = position_from_anchor(
                window_anchor,
                (-83, 360),
                Orientation::UpperLeft,
                size_national_idea6,
            );

            if let Some(border) = sprite_national_idea6.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_national_idea6.bind_group.as_ref(),
                    queue,
                    pos_national_idea6.0,
                    pos_national_idea6.1,
                    size_national_idea6.0 as f32,
                    size_national_idea6.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_national_idea6.dimensions.0,
                    sprite_national_idea6.dimensions.1,
                    screen_size,
                );
            } else if sprite_national_idea6.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_national_idea6.dimensions.0 / sprite_national_idea6.num_frames;
                let clip_national_idea6 = rect_to_clip_space(
                    (pos_national_idea6.0, pos_national_idea6.1),
                    (frame_w, sprite_national_idea6.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_national_idea6.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_national_idea6.bind_group.as_ref(),
                    queue,
                    clip_national_idea6.0,
                    clip_national_idea6.1,
                    clip_national_idea6.2,
                    clip_national_idea6.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_national_idea6 = rect_to_clip_space(
                    (pos_national_idea6.0, pos_national_idea6.1),
                    (size_national_idea6.0, size_national_idea6.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_national_idea6.bind_group.as_ref(),
                    queue,
                    clip_national_idea6.0,
                    clip_national_idea6.1,
                    clip_national_idea6.2,
                    clip_national_idea6.3,
                );
            }
        }

        // Widget: national_idea7
        if let Some(sprite_national_idea7) = widget_cache.sprites.get("GFX_idea_empty") {
            let size_national_idea7 = sprite_national_idea7
                .target_size
                .unwrap_or(sprite_national_idea7.dimensions);
            let pos_national_idea7 = position_from_anchor(
                window_anchor,
                (-51, 360),
                Orientation::UpperLeft,
                size_national_idea7,
            );

            if let Some(border) = sprite_national_idea7.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_national_idea7.bind_group.as_ref(),
                    queue,
                    pos_national_idea7.0,
                    pos_national_idea7.1,
                    size_national_idea7.0 as f32,
                    size_national_idea7.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_national_idea7.dimensions.0,
                    sprite_national_idea7.dimensions.1,
                    screen_size,
                );
            } else if sprite_national_idea7.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_national_idea7.dimensions.0 / sprite_national_idea7.num_frames;
                let clip_national_idea7 = rect_to_clip_space(
                    (pos_national_idea7.0, pos_national_idea7.1),
                    (frame_w, sprite_national_idea7.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_national_idea7.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_national_idea7.bind_group.as_ref(),
                    queue,
                    clip_national_idea7.0,
                    clip_national_idea7.1,
                    clip_national_idea7.2,
                    clip_national_idea7.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_national_idea7 = rect_to_clip_space(
                    (pos_national_idea7.0, pos_national_idea7.1),
                    (size_national_idea7.0, size_national_idea7.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_national_idea7.bind_group.as_ref(),
                    queue,
                    clip_national_idea7.0,
                    clip_national_idea7.1,
                    clip_national_idea7.2,
                    clip_national_idea7.3,
                );
            }
        }

        // Widget: provinces_icon
        if let Some(sprite_provinces_icon) = widget_cache.sprites.get("GFX_province_icon") {
            let size_provinces_icon = sprite_provinces_icon
                .target_size
                .unwrap_or(sprite_provinces_icon.dimensions);
            let pos_provinces_icon = position_from_anchor(
                window_anchor,
                (-241, 406),
                Orientation::UpperLeft,
                size_provinces_icon,
            );

            if let Some(border) = sprite_provinces_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_provinces_icon.bind_group.as_ref(),
                    queue,
                    pos_provinces_icon.0,
                    pos_provinces_icon.1,
                    size_provinces_icon.0 as f32,
                    size_provinces_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_provinces_icon.dimensions.0,
                    sprite_provinces_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_provinces_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_provinces_icon.dimensions.0 / sprite_provinces_icon.num_frames;
                let clip_provinces_icon = rect_to_clip_space(
                    (pos_provinces_icon.0, pos_provinces_icon.1),
                    (frame_w, sprite_provinces_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_provinces_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_provinces_icon.bind_group.as_ref(),
                    queue,
                    clip_provinces_icon.0,
                    clip_provinces_icon.1,
                    clip_provinces_icon.2,
                    clip_provinces_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_provinces_icon = rect_to_clip_space(
                    (pos_provinces_icon.0, pos_provinces_icon.1),
                    (size_provinces_icon.0, size_provinces_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_provinces_icon.bind_group.as_ref(),
                    queue,
                    clip_provinces_icon.0,
                    clip_provinces_icon.1,
                    clip_provinces_icon.2,
                    clip_provinces_icon.3,
                );
            }
        }

        // TextBox: provinces_value (font: vic_18) - no panel field mapping

        // Widget: economy_icon
        if let Some(sprite_economy_icon) = widget_cache.sprites.get("GFX_development_icon") {
            let size_economy_icon = sprite_economy_icon
                .target_size
                .unwrap_or(sprite_economy_icon.dimensions);
            let pos_economy_icon = position_from_anchor(
                window_anchor,
                (-166, 406),
                Orientation::UpperLeft,
                size_economy_icon,
            );

            if let Some(border) = sprite_economy_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_economy_icon.bind_group.as_ref(),
                    queue,
                    pos_economy_icon.0,
                    pos_economy_icon.1,
                    size_economy_icon.0 as f32,
                    size_economy_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_economy_icon.dimensions.0,
                    sprite_economy_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_economy_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_economy_icon.dimensions.0 / sprite_economy_icon.num_frames;
                let clip_economy_icon = rect_to_clip_space(
                    (pos_economy_icon.0, pos_economy_icon.1),
                    (frame_w, sprite_economy_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_economy_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_economy_icon.bind_group.as_ref(),
                    queue,
                    clip_economy_icon.0,
                    clip_economy_icon.1,
                    clip_economy_icon.2,
                    clip_economy_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_economy_icon = rect_to_clip_space(
                    (pos_economy_icon.0, pos_economy_icon.1),
                    (size_economy_icon.0, size_economy_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_economy_icon.bind_group.as_ref(),
                    queue,
                    clip_economy_icon.0,
                    clip_economy_icon.1,
                    clip_economy_icon.2,
                    clip_economy_icon.3,
                );
            }
        }

        // TextBox: economy_value (font: vic_18) - no panel field mapping

        // Widget: fort_icon
        if let Some(sprite_fort_icon) = widget_cache.sprites.get("GFX_fort_defense_icon") {
            let size_fort_icon = sprite_fort_icon
                .target_size
                .unwrap_or(sprite_fort_icon.dimensions);
            let pos_fort_icon = position_from_anchor(
                window_anchor,
                (-86, 406),
                Orientation::UpperLeft,
                size_fort_icon,
            );

            if let Some(border) = sprite_fort_icon.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_fort_icon.bind_group.as_ref(),
                    queue,
                    pos_fort_icon.0,
                    pos_fort_icon.1,
                    size_fort_icon.0 as f32,
                    size_fort_icon.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_fort_icon.dimensions.0,
                    sprite_fort_icon.dimensions.1,
                    screen_size,
                );
            } else if sprite_fort_icon.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_fort_icon.dimensions.0 / sprite_fort_icon.num_frames;
                let clip_fort_icon = rect_to_clip_space(
                    (pos_fort_icon.0, pos_fort_icon.1),
                    (frame_w, sprite_fort_icon.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_fort_icon.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_fort_icon.bind_group.as_ref(),
                    queue,
                    clip_fort_icon.0,
                    clip_fort_icon.1,
                    clip_fort_icon.2,
                    clip_fort_icon.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_fort_icon = rect_to_clip_space(
                    (pos_fort_icon.0, pos_fort_icon.1),
                    (size_fort_icon.0, size_fort_icon.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_fort_icon.bind_group.as_ref(),
                    queue,
                    clip_fort_icon.0,
                    clip_fort_icon.1,
                    clip_fort_icon.2,
                    clip_fort_icon.3,
                );
            }
        }

        // TextBox: fort_value (font: vic_18) - no panel field mapping

        // TODO: Widget diplomatic_listbox (Listbox) not yet implemented

        // TODO: Widget suggested_dlc_list (Listbox) not yet implemented

        // TextBox: observe_mode_title (font: vic_22) - no panel field mapping

        // Widget: observe_mode_button
        if let Some(sprite_observe_mode_button) = widget_cache.sprites.get("GFX_checkbox_gold_32") {
            let size_observe_mode_button = sprite_observe_mode_button
                .target_size
                .unwrap_or(sprite_observe_mode_button.dimensions);
            let pos_observe_mode_button = resolve_position(
                (99920, -160),
                Orientation::LowerLeft,
                size_observe_mode_button,
                screen_size,
            );

            if let Some(border) = sprite_observe_mode_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_observe_mode_button.bind_group.as_ref(),
                    queue,
                    pos_observe_mode_button.0,
                    pos_observe_mode_button.1,
                    size_observe_mode_button.0 as f32,
                    size_observe_mode_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_observe_mode_button.dimensions.0,
                    sprite_observe_mode_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_observe_mode_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w =
                    sprite_observe_mode_button.dimensions.0 / sprite_observe_mode_button.num_frames;
                let clip_observe_mode_button = rect_to_clip_space(
                    (pos_observe_mode_button.0, pos_observe_mode_button.1),
                    (frame_w, sprite_observe_mode_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_observe_mode_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_observe_mode_button.bind_group.as_ref(),
                    queue,
                    clip_observe_mode_button.0,
                    clip_observe_mode_button.1,
                    clip_observe_mode_button.2,
                    clip_observe_mode_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_observe_mode_button = rect_to_clip_space(
                    (pos_observe_mode_button.0, pos_observe_mode_button.1),
                    (size_observe_mode_button.0, size_observe_mode_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_observe_mode_button.bind_group.as_ref(),
                    queue,
                    clip_observe_mode_button.0,
                    clip_observe_mode_button.1,
                    clip_observe_mode_button.2,
                    clip_observe_mode_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "observe_mode_button".to_string(),
                hit_box: HitBox {
                    x: pos_observe_mode_button.0,
                    y: pos_observe_mode_button.1,
                    width: size_observe_mode_button.0 as f32,
                    height: size_observe_mode_button.1 as f32,
                },
            });
        }

        // Widget: random_new_world_button
        if let Some(sprite_random_new_world_button) =
            widget_cache.sprites.get("GFX_frontend_random_world")
        {
            let size_random_new_world_button = sprite_random_new_world_button
                .target_size
                .unwrap_or(sprite_random_new_world_button.dimensions);
            let pos_random_new_world_button = resolve_position(
                (-241, -139),
                Orientation::LowerRight,
                size_random_new_world_button,
                screen_size,
            );

            if let Some(border) = sprite_random_new_world_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_random_new_world_button.bind_group.as_ref(),
                    queue,
                    pos_random_new_world_button.0,
                    pos_random_new_world_button.1,
                    size_random_new_world_button.0 as f32,
                    size_random_new_world_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_random_new_world_button.dimensions.0,
                    sprite_random_new_world_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_random_new_world_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_random_new_world_button.dimensions.0
                    / sprite_random_new_world_button.num_frames;
                let clip_random_new_world_button = rect_to_clip_space(
                    (pos_random_new_world_button.0, pos_random_new_world_button.1),
                    (frame_w, sprite_random_new_world_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_random_new_world_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_random_new_world_button.bind_group.as_ref(),
                    queue,
                    clip_random_new_world_button.0,
                    clip_random_new_world_button.1,
                    clip_random_new_world_button.2,
                    clip_random_new_world_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_random_new_world_button = rect_to_clip_space(
                    (pos_random_new_world_button.0, pos_random_new_world_button.1),
                    (
                        size_random_new_world_button.0,
                        size_random_new_world_button.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_random_new_world_button.bind_group.as_ref(),
                    queue,
                    clip_random_new_world_button.0,
                    clip_random_new_world_button.1,
                    clip_random_new_world_button.2,
                    clip_random_new_world_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "random_new_world_button".to_string(),
                hit_box: HitBox {
                    x: pos_random_new_world_button.0,
                    y: pos_random_new_world_button.1,
                    width: size_random_new_world_button.0 as f32,
                    height: size_random_new_world_button.1 as f32,
                },
            });
        }

        // Widget: enable_custom_nation_button
        if let Some(sprite_enable_custom_nation_button) =
            widget_cache.sprites.get("GFX_checkbox_gold_32")
        {
            let size_enable_custom_nation_button = sprite_enable_custom_nation_button
                .target_size
                .unwrap_or(sprite_enable_custom_nation_button.dimensions);
            let pos_enable_custom_nation_button = resolve_position(
                (-275, -107),
                Orientation::LowerRight,
                size_enable_custom_nation_button,
                screen_size,
            );

            if let Some(border) = sprite_enable_custom_nation_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_enable_custom_nation_button.bind_group.as_ref(),
                    queue,
                    pos_enable_custom_nation_button.0,
                    pos_enable_custom_nation_button.1,
                    size_enable_custom_nation_button.0 as f32,
                    size_enable_custom_nation_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_enable_custom_nation_button.dimensions.0,
                    sprite_enable_custom_nation_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_enable_custom_nation_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_enable_custom_nation_button.dimensions.0
                    / sprite_enable_custom_nation_button.num_frames;
                let clip_enable_custom_nation_button = rect_to_clip_space(
                    (
                        pos_enable_custom_nation_button.0,
                        pos_enable_custom_nation_button.1,
                    ),
                    (frame_w, sprite_enable_custom_nation_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_enable_custom_nation_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_enable_custom_nation_button.bind_group.as_ref(),
                    queue,
                    clip_enable_custom_nation_button.0,
                    clip_enable_custom_nation_button.1,
                    clip_enable_custom_nation_button.2,
                    clip_enable_custom_nation_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_enable_custom_nation_button = rect_to_clip_space(
                    (
                        pos_enable_custom_nation_button.0,
                        pos_enable_custom_nation_button.1,
                    ),
                    (
                        size_enable_custom_nation_button.0,
                        size_enable_custom_nation_button.1,
                    ),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_enable_custom_nation_button.bind_group.as_ref(),
                    queue,
                    clip_enable_custom_nation_button.0,
                    clip_enable_custom_nation_button.1,
                    clip_enable_custom_nation_button.2,
                    clip_enable_custom_nation_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "enable_custom_nation_button".to_string(),
                hit_box: HitBox {
                    x: pos_enable_custom_nation_button.0,
                    y: pos_enable_custom_nation_button.1,
                    width: size_enable_custom_nation_button.0 as f32,
                    height: size_enable_custom_nation_button.1 as f32,
                },
            });
        }

        // Widget: nation_designer_button
        if let Some(sprite_nation_designer_button) =
            widget_cache.sprites.get("GFX_frontend_custom_nation")
        {
            let size_nation_designer_button = sprite_nation_designer_button
                .target_size
                .unwrap_or(sprite_nation_designer_button.dimensions);
            let pos_nation_designer_button = resolve_position(
                (-241, -107),
                Orientation::LowerRight,
                size_nation_designer_button,
                screen_size,
            );

            if let Some(border) = sprite_nation_designer_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_nation_designer_button.bind_group.as_ref(),
                    queue,
                    pos_nation_designer_button.0,
                    pos_nation_designer_button.1,
                    size_nation_designer_button.0 as f32,
                    size_nation_designer_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_nation_designer_button.dimensions.0,
                    sprite_nation_designer_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_nation_designer_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_nation_designer_button.dimensions.0
                    / sprite_nation_designer_button.num_frames;
                let clip_nation_designer_button = rect_to_clip_space(
                    (pos_nation_designer_button.0, pos_nation_designer_button.1),
                    (frame_w, sprite_nation_designer_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_nation_designer_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_nation_designer_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_button.0,
                    clip_nation_designer_button.1,
                    clip_nation_designer_button.2,
                    clip_nation_designer_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_nation_designer_button = rect_to_clip_space(
                    (pos_nation_designer_button.0, pos_nation_designer_button.1),
                    (size_nation_designer_button.0, size_nation_designer_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_nation_designer_button.bind_group.as_ref(),
                    queue,
                    clip_nation_designer_button.0,
                    clip_nation_designer_button.1,
                    clip_nation_designer_button.2,
                    clip_nation_designer_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "nation_designer_button".to_string(),
                hit_box: HitBox {
                    x: pos_nation_designer_button.0,
                    y: pos_nation_designer_button.1,
                    width: size_nation_designer_button.0 as f32,
                    height: size_nation_designer_button.1 as f32,
                },
            });
        }

        // Widget: random_country_button
        if let Some(sprite_random_country_button) =
            widget_cache.sprites.get("GFX_frontend_random_nation")
        {
            let size_random_country_button = sprite_random_country_button
                .target_size
                .unwrap_or(sprite_random_country_button.dimensions);
            let pos_random_country_button = resolve_position(
                (-241, -75),
                Orientation::LowerRight,
                size_random_country_button,
                screen_size,
            );

            if let Some(border) = sprite_random_country_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_random_country_button.bind_group.as_ref(),
                    queue,
                    pos_random_country_button.0,
                    pos_random_country_button.1,
                    size_random_country_button.0 as f32,
                    size_random_country_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_random_country_button.dimensions.0,
                    sprite_random_country_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_random_country_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_random_country_button.dimensions.0
                    / sprite_random_country_button.num_frames;
                let clip_random_country_button = rect_to_clip_space(
                    (pos_random_country_button.0, pos_random_country_button.1),
                    (frame_w, sprite_random_country_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_random_country_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_random_country_button.bind_group.as_ref(),
                    queue,
                    clip_random_country_button.0,
                    clip_random_country_button.1,
                    clip_random_country_button.2,
                    clip_random_country_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_random_country_button = rect_to_clip_space(
                    (pos_random_country_button.0, pos_random_country_button.1),
                    (size_random_country_button.0, size_random_country_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_random_country_button.bind_group.as_ref(),
                    queue,
                    clip_random_country_button.0,
                    clip_random_country_button.1,
                    clip_random_country_button.2,
                    clip_random_country_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "random_country_button".to_string(),
                hit_box: HitBox {
                    x: pos_random_country_button.0,
                    y: pos_random_country_button.1,
                    width: size_random_country_button.0 as f32,
                    height: size_random_country_button.1 as f32,
                },
            });
        }

        // Widget: play_button
        if let Some(sprite_play_button) = widget_cache.sprites.get("GFX_big_button_232") {
            let size_play_button = sprite_play_button
                .target_size
                .unwrap_or(sprite_play_button.dimensions);
            let pos_play_button = resolve_position(
                (-246, -40),
                Orientation::LowerRight,
                size_play_button,
                screen_size,
            );

            if let Some(border) = sprite_play_button.border_size {
                sprite_renderer.draw_cornered_tile(
                    render_pass,
                    sprite_play_button.bind_group.as_ref(),
                    queue,
                    pos_play_button.0,
                    pos_play_button.1,
                    size_play_button.0 as f32,
                    size_play_button.1 as f32,
                    border.0 as f32,
                    border.1 as f32,
                    sprite_play_button.dimensions.0,
                    sprite_play_button.dimensions.1,
                    screen_size,
                );
            } else if sprite_play_button.num_frames > 1 {
                // Multi-frame sprite: render only frame 0
                let frame_w = sprite_play_button.dimensions.0 / sprite_play_button.num_frames;
                let clip_play_button = rect_to_clip_space(
                    (pos_play_button.0, pos_play_button.1),
                    (frame_w, sprite_play_button.dimensions.1),
                    screen_size,
                );
                let u_max = 1.0 / sprite_play_button.num_frames as f32;
                sprite_renderer.draw_uv(
                    render_pass,
                    sprite_play_button.bind_group.as_ref(),
                    queue,
                    clip_play_button.0,
                    clip_play_button.1,
                    clip_play_button.2,
                    clip_play_button.3,
                    0.0,
                    0.0,
                    u_max,
                    1.0,
                );
            } else {
                let clip_play_button = rect_to_clip_space(
                    (pos_play_button.0, pos_play_button.1),
                    (size_play_button.0, size_play_button.1),
                    screen_size,
                );
                sprite_renderer.draw(
                    render_pass,
                    sprite_play_button.bind_group.as_ref(),
                    queue,
                    clip_play_button.0,
                    clip_play_button.1,
                    clip_play_button.2,
                    clip_play_button.3,
                );
            }

            local_hit_boxes.push(HitBoxCmd {
                name: "play_button".to_string(),
                hit_box: HitBox {
                    x: pos_play_button.0,
                    y: pos_play_button.1,
                    width: size_play_button.0 as f32,
                    height: size_play_button.1 as f32,
                },
            });
        }

        // Register hit boxes
        for cmd in local_hit_boxes {
            hit_boxes.push((cmd.name, cmd.hit_box));
        }
    }
}
